(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{152:function(e,t,o){"use strict";o.r(t);var a,n=o(3),r=o(9),i=o(4),l=o(5),s=o(2),c=o(6),h=o(62),d=o(13),g=o(58),u=o(19),f=o(8),b=o(0),p=o(55),m=o(11),v=[{initialAttr:function(){return{opacity:0}},finalAttr:function(){return{opacity:1}}}],y={"initial.dataset.entities":function(){return{"path.appearing":function(){return v[0].slot="plot",v},"path.updating":function(e){return[{finalAttr:function(){return e.finalAttr}}]},"labelConnectors.appearing":function(){return v[0].slot="final",v},"labelConnectors.updating":null,"entityLabel.appearing":function(){return[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"final"}]},"*":null}},"initial.dataset.markers":function(){return{markers:null,"markerItem.appearing":function(){return v[0].slot="final",v},"markerItem.updating":function(e){return[{finalAttr:function(){return e.finalAttr}}]}}},"initial.group.mapGroup":function(){return{"group.appearing":function(e){return[{initialAttr:function(){return Object.assign({opacity:0},e.attr)},finalAttr:function(){return e.attr},slot:"plot"}]},"group.updating":function(e){return[{initialAttr:function(){return Object.assign({opacity:0},e.attr)},finalAttr:function(){return e.attr},slot:"plot"}]},"*":null}}},k=o(15),O=Object(m.b)("redraphael","plugin"),C=window.navigator.userAgent,x=/msie/i.test(C)&&!window.opera,j=window.Math,w=j.min,F=j.max,A=/stroke/gi,L=/AppleWebKit/.test(C),S=j.ceil,E=function(e,t){var o=t?Object(b.W)(e.FCcolor,t,!1,!0):{FCcolor:e};return o.toString=b.Ub,o},_=function(e,t){var o,a={};if(t=t||1,!e||"object"!=typeof e)return a;for(o in e)A.test(o)||("stroke-width"===o?(a[o]=+e[o]/t,L&&(a[o]=a[o]&&S(a[o])||0)):a[o]=e[o]);return a},I={right:function(){return arguments[1]},left:function(e,t){return e-t},center:function(e,t){return 2*w(t,e-t)}},P={top:function(){return arguments[1]},middle:function(e,t){return 2*w(t,e-t)},bottom:function(e,t){return e-t}};Object(m.a)({name:"mapsAnimation",type:"animationRule",extension:y}),function(e){var t,o,a,n=window.parseFloat,r=e._createNode,i=e._setFillAndStroke,l=e.el.constructor,s={Q:"L",Z:"X",q:"l",z:"x",",":" "},c=/,?([achlmqrstvxz]),?/gi,h=function(){return this.join(",").replace(c,t)};e.svg?(t="$1",o=function(){var o=e.is(arguments[0],"array")?arguments[0]:Array.prototype.slice.call(arguments);o?"string"==typeof o?o=o.replace(c,t):o.toString=h:o="M0,0",this.node.setAttribute("d",o.toString())},e._engine.litepath=function(t,o,a,n,s){var c,h=r("path");return(n||o).canvas.appendChild(h),(c=new l(h,o,n)).type="litepath",c.id=h.raphaelid=e._oid++,h.raphael=!0,i(c,s||{fill:"none",stroke:"#000"}),c},e._getPath.litepath=function(t){return e.parsePathString(t.node.getAttribute("d"))}):e.vml&&(t=function(e,t){return s[t]||t},a=function(){var e=this;return e._transform.apply(e,arguments),e._.bcoord&&(e.node.coordsize=e._.bcoord),e},o=function(e){return e?"string"==typeof e?e=e.replace(c,t):e.toString=h:e="M0,0",this.node.path=e,this},e._engine.litepath=function(t,o,i,s,c){var h,d=r("shape"),g=d.style,u=new l(d,o,s);return g.cssText="position:absolute;left:0;top:0;width:21600px;height:21600px;",i=n(i),isNaN(i)?d.coordsize="21600 21600":(u._.bzoom=i,g.width="1px",g.height="1px",d.coordsize=u._.bcoord=i+" "+i),d.coordorigin=o.coordorigin,u.type="litepath",u.id=d.raphaelid=e._oid++,d.raphael=!0,u._transform=u.transform,u.transform=a,e._setFillAndStroke(u,c||{fill:"none",stroke:"#000"}),(s||o).canvas.appendChild(d),(h=r("skew")).on=!0,d.appendChild(h),u.skew=h,u},e._getPath.litepath=function(t){return e.parsePathString(t.node.path||"")}),e.fn.litepath=function(t,a,n){var r,i,s;return"object"==typeof t&&t.constructor!==l&&(r=t,i=(t=t.litepath).zoom,n=t.group),a&&a.constructor===l?(n=a,i=void 0):i=a,t&&t.constructor===l&&(n=t,t=""),(s=e._engine.litepath(t,this,i,n,r)).ca.litepath=o,t&&s.attr("litepath",e.is(t,"array")?[t]:t),this.__set__&&this.__set__.push(s),this._elementsById[s.id]=s}}(O);var T=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(l.a)(this,Object(s.a)(t).call(this))).components={},e}return Object(c.a)(t,e),Object(n.a)(t,[{key:"getName",value:function(){return"entities"}},{key:"getType",value:function(){return"dataset"}},{key:"configureAttributes",value:function(e){if(e){this.JSONData={data:e};var o,n,r,i,l,s,c,h,d=this,g=d.getFromEnv("chart").jsonData,u=d.config,f=g.map||g.chart,p=[],m=d.getFromEnv("colorManager"),v=g.entitydef||[];for(l in!u.attachEvent&&m&&(d.addExtEventListener("legendUpdate",function(){if("legend"===(h=arguments[1]).component)d.legendInteractivity(h.legendItem,h.colorObj);else for(p=h.maxMinArray,s=p.length,c=0;c<s;c++)d.updateEntityColors(p[c].min,p[c].max)},m),u.attachEvent=!0),o=g.data&&g.data[0]&&g.data[0].data?d.JSONData=g.data[0].data||[]:d.JSONData=g.data||[],u.useSNameAsId=Object(b.Jb)(f.usesnameasid,0),this._redefineEntities(v),n=d.components.data,u.showTooltip=Object(b.Jb)(f.showtooltip,1),u.showHoverEffect=Object(b.Jb)(f.showhovereffect,0),o=function(e){for(var t,o=e&&e.length||0,n={};o--;)(t=e[o]).id!==a&&(n[t.id.toLowerCase()]=t);return n}(o),d.calculateDataLimits(),g.colorrange||d.detachChild(d.getChildren("colorRange")&&d.getChildren("colorRange")[0].getId()),n)r=o[l],i=n[l],r?this._configureEntity(l,i,Object(b.wb)(t._sanitizeEntityOptions(Object(b.W)({},r)),i.config)):this._configureEntity(l,i,i.config)}}},{key:"updateEntityColors",value:function(e,o){var a,n,r,i,l,s=this.components.data,c=this.getFromEnv("chart"),h={"fill-opacity":0};for(i in s)r=(n=(a=s[i]).config).cleanValue,l={"fill-opacity":(n.alphaArr||[])[0]/100||1},r<e||r>o?(t.setCustomAttrs(a,h,c),a.hidden=!0):(a.hidden=!1,t.setCustomAttrs(a,l,c))}},{key:"legendInteractivity",value:function(e,o){var a,n,r,i,l,s,c=this,h=c.getFromEnv("chart"),d=c.components.data,g=e.config,u=e.hasState("hidden"),f=c.getFromEnv("colorManager"),b={},p={"fill-opacity":0};for(a in h.getFromEnv("animationManager").setAnimationState("legendInteraction"),d)d.hasOwnProperty(a)&&(r=(g=(n=d[a]).config).cleanValue,s=f.getColorObj(r),i=g.visibleEntityAttr,b["fill-opacity"]=i["fill-opacity"],l=u?b:p,o.code===(!s.outOfRange&&s.code)&&(n.hidden=!u,t.setCustomAttrs(n,l,h),u?e&&e.removeLegendState("hidden"):e.setLegendState("hidden")))}},{key:"calculateDataLimits",value:function(){var e,t,o,a,n=this.getFromEnv("chart"),r=this.config,i=n.jsonData.data||[],l=this.getFromEnv("number-formatter"),s=1/0,c=-1/0;for(a=0,o=i.length;a<o;a++)t=i[a].value,e=l.getCleanValue(t),s=w(s,e),c=F(c,e);r.max=c,r.min=s}},{key:"_configureEntity",value:function(e,t,o){var n,r,i,l,s,c,h,d,g,u,f,p,m,v,y,k,O,C,x,j,w,F,A=this,L=A.getFromEnv("chart"),S=A.config,_=this.getFromEnv("number-formatter"),I=L.config.entityOpts,P=t.config,T=t.labelConfig,H=o.value,R=P.cleanValue=_.getCleanValue(H),M=P.formattedValue=R===a?a:_.dataLabels(R),B=Object(b.Jb)(o.showtooltip,I.showTooltip),D=this._getDefaultTooltip(t,o,A),J={formattedValue:M,sName:o.shortLabel,lName:o.label},V=I.dataLabels.style,G=P.toolText=B?Object(b.Gb)(Object(b.Hb)(Object(b.Fb)(Object(b.Hb)(o.tooltext,I.tooltext,D),[1,2,7,38,39],J,o))):"",N=P.borderColor=Object(b.Hb)(o.bordercolor,I.borderColor),W=P.borderAlpha=Object(b.Hb)(o.borderalpha,I.borderAlpha),z=P.borderThickness=Object(b.Jb)(o.borderthickness,I.borderThickness),X=I.hoverOnNull,U=P.useHoverColor=Object(b.Jb)(o.showhovereffect,o.usehovercolor,X?I.showHoverEffect:isNaN(H)?0:I.showHoverEffect),K=P.labelAlignment,Y=A.getFromEnv("colorManager");if(t.hidden=!1,P.showLabel=Object(b.Jb)(o.showlabel,I.showLabels),P.labelPadding=Object(b.Jb)(o.labelpadding,I.labelPadding),P.fontFamily=Object(b.Hb)(o.font,V.fontFamily),P.fontSize=Object(b.Jb)(parseInt(o.fontsize,10),parseInt(V.fontSize,10)),P.fontBold=Object(b.Jb)(o.fontbold,0),P.fontColor=Object(b.Hb)(o.fontcolor,V.color),P.connectorColor=Object(b.Hb)(o.labelconnectorcolor,I.connectorColor),P.connectorAlpha=Object(b.Hb)(o.labelconnectoralpha,I.connectorAlpha),P.hoverBorderThickness=Object(b.Jb)(o.borderhoverthickness,o.hoverborderthickness,I.hoverBorderThickness),P.hoverBorderColor=Object(b.Hb)(o.borderhovercolor,o.hoverbordercolor,I.hoverBorderColor,P.borderColor),P.hoverBorderAlpha=Object(b.Hb)(o.borderhoveralpha,o.hoverborderalpha,I.hoverBorderAlpha,P.borderAlpha),P.connectorThickness=Object(b.Jb)(o.labelconnectorthickness,I.connectorThickness),P.origConnectorThickness=P.connectorThickness,P.borderThickness=z,P.link=o.link,P.isVisible=!0,P.id=e,P.originalId=o.origId,null!==R&&((n=Y&&Y.getColor(R))&&!n.outOfRange&&(k=n.code,n.oriAlpha!==a&&(O=n.oriAlpha+""))),Object(b.Hb)(o.color,o.alpha,o.angle,o.ratio)===a?(v=E({color:Object(b.Hb)(k,I.fillColor),alpha:Object(b.Hb)(O,I.fillAlpha),angle:Object(b.Hb)(I.fillAngle),ratio:Object(b.Hb)(I.fillRatio)}),m=E({color:Object(b.Hb)(I.nullEntityColor),alpha:Object(b.Hb)(I.nullEntityAlpha),angle:Object(b.Hb)(I.nullEntityAngle),ratio:Object(b.Hb)(I.nullEntityRatio)}),s=(g=null===R?m:v).FCcolor.color,c=g.FCcolor.alpha,h=g.FCcolor.angle,d=g.FCcolor.ratio):(s=Object(b.Hb)(o.color,k,I.fillColor),c=Object(b.Hb)(o.alpha,O,I.fillAlpha),h=Object(b.Hb)(o.angle,I.fillAngle),d=Object(b.Hb)(o.ratio,I.fillRatio),g=E({color:s,alpha:c,angle:h,ratio:d})),""===G&&(S.showTooltip=0),P.visibleEntityAttr={stroke:Object(b.P)(N,W),fill:(P.fillColor=g).toString(),"fill-opacity":c/100},F=c.split(","),P.alphaArr=F,U&&(Object(b.Hb)(o.fillhovercolor,o.fillhoveralpha,o.fillhoverangle,o.fillhoverratio,o.hoverfillcolor,o.hoverfillalpha,o.hoverfillratio,o.hoverfillangle)===a?(!I.hoverColorObject&&(I.hoverColorObject=E({color:I.hoverFillColor,alpha:I.hoverFillAlpha,angle:I.hoverFillAngle,ratio:I.hoverFillRatio})),y=I.hoverColorObject):(s=Object(b.Hb)(o.fillhovercolor,o.hoverfillcolor,I.hoverFillColor),c=Object(b.Hb)(o.fillhoveralpha,o.hoverfillalpha,I.hoverFillAlpha),h=Object(b.Hb)(o.fillhoverangle,o.hoverfillangle,I.hoverFillAngle),d=Object(b.Hb)(o.fillhoverratio,o.hoverfillratio,I.hoverFillRatio),y=E({color:s,alpha:c,angle:h,ratio:d})),P.hoverColor=y),T||(T=t.labelConfig={}),u=P.fontColor,f=P.fontFamily,p=P.fontBold,G=P.toolText,r=P.link,K?(i=K[0],l=K[1]):(i="center",l="middle"),T.align=i,T.vAlign=l,T.bgColor="",T.borderColor="",T.fontColor=u,T.fontFamily=f,T.fontBold=p,T.toolText=G,T.link=r,"object"==typeof P.options)for(C=P.entityLabels=P.entityLabels||[],w=(j=P.labels||[]).length;w--;)C[w]||(C[w]={config:{}}),T=C[w].config,(K=j[w].labelAlignment)?(i=K[0],l=K[1]):(i="center",l="middle"),T.align=i,T.vAlign=l,T.displayValue=A.getDisplayValue(t,j[w],P.options.isDataEnabled,!w,o),T.bgColor="",T.borderColor="",T.toolText=G,T.align=i,T.vAlign=l,T.bgColor="",T.borderColor="",T.fontColor=u,T.fontFamily=f,T.fontBold=p,T.toolText=G;else x={shortText:P.shortLabel,text:P.label},T.displayValue=A.getDisplayValue(t,x,!0,!0,o)}},{key:"getDisplayValue",value:function(e,t,o,n,r){var i,l=this.getFromEnv("chart").config.entityOpts,s=e.config,c=s.cleanValue,h=s.formattedValue,d=l.labelSepChar;return o?n&&"undefined"!=typeof r.displayvalue?i=r.displayvalue:(i=Object(b.Hb)(l.includeNameInLabels?l.useShortName?t.shortText:t.text:""),l.includeValueInLabels&&null!==c&&(i=i===a?h:i+d+h)):i=s.label,i}},{key:"_redefineEntities",value:function(e){var t,o,a,n,r,i,l,s,c,h,d,g,u=this,f=u.config,p={},m={},v=u.getFromEnv("chart").config.entities,y=f.useSNameAsId,k=0;for(t=e.length;t--;)if(a=(o=e[t]).internalid,n=o.newid?o.newid:a,r=o.sname,i=o.lname,g=v[a],a=Object(b.Wb)(a),n=(n=Object(b.Wb)(n))&&n.toLowerCase(),g){for(d in p[n]=s={origId:a},m[a]=!0,g)s[d]=g[d];s.shortLabel=r||g.shortLabel,s.label=i||g.label,s.showhovereffect=o.showhovereffect,s.fillhovercolor=o.fillhovercolor,s.fillhoveralpha=o.fillhoveralpha,s.fillhoverangle=o.fillhoverangle,s.fillhoverratio=o.fillhoverratio,s.borderhoverthickness=o.borderhoverthickness}for(l in(h=u.components.data)||(h=u.components.data={}),p)h[l=l.toLowerCase()]||(h[l]={config:{}}),h[l].config=p[l],k+=1;for(l in c=h,v)if(s=v[l],!m[l=Object(b.Wb)(l)]){for(d in y?(!(g=c[s.shortLabel.toLowerCase()])&&(g=c[s.shortLabel.toLowerCase()]={}),g.config={},g.origId=s.shortLabel):(!(g=c[l.toLowerCase()])&&(g=c[l.toLowerCase()]={}),g.config={},g.config.origId=l),s)g.config[d]=s[d];k+=1}f.entityCount=k}},{key:"draw",value:function(){var e=this,t=e.config,o=e.getFromEnv("chart"),a=b.sb?200:10;e.createContainer(),this.config.ready=!1,t.BATCH_SIZE=a,t.labelBatchSize=b.sb?200:20,this._batchRender()(0),o.config.entityFlag=!0,o.checkComplete()}},{key:"_batchRender",value:function(){var e,t,o,n,r,i=this,l=i.config,s=i.getFromEnv("chart").config.entities.firstEntity,c=i.components.data,h=l.BATCH_SIZE,d=l.entityKeys=s?i._getKeys(s,c):Object.keys(c),g=l.entityLength=d.length;return function l(s){for(e=s,o=0;d[e]!==a;)if(t=c[d[e]],r=i.drawEntity(t,h),o+=r,t.config.drawn&&((n=e===g-1?t:c[d[e-1]])&&(n.config.drawn=!1,n.config.outlineStartIndex=a),e++),o>=h){i.addJob("entityDraw",l.bind(this,e),k.b.entitydraw);break}e===g&&(i._addEventListenersToEntities(0),i.initComplete())}}},{key:"_addEventListenersToEntities",value:function(e){var t,o,a,n=this,r=n.components.data,i=n.config,l=i.BATCH_SIZE,s=i.entityKeys,c=i.entityLength,h=0;for(t=e;t<c;t++)if((a=(o=r[s[t]]).config.options)&&!1===a.isDataEnabled||n.addMouseGestures(o),++h===l){n.addJob("_addEventListenersToEntities",n._addEventListenersToEntities.bind(this,t),k.b.entitydraw);break}}},{key:"_getDefaultTooltip",value:function(e,t){var o,n,r=e.config.cleanValue,i=e.config.formattedValue,l=this.getFromEnv("chart").config.entityOpts;if("object"==typeof e.config.options){if(!(n=t.labels&&t.labels[0]))return a;o=(l.useSNameInTooltip?n.shortText:n.text)+(null===r?"":l.tooltipSepChar+i)}else o=(l.useSNameInTooltip?t.shortLabel:t.label)+(null===r?"":l.tooltipSepChar+i);return o}},{key:"drawEntity",value:function(e,t){var o,n,r,i,l,s,c,h,d=this,g=d.getFromEnv("chart"),u=g.getFromEnv("animationManager"),f=e.config,p=b.sb||!x?"litepath":"path",m=g.config.entityOpts,v=f.outlines,y=d.getFromEnv("toolTipController"),k=this.getLinkedParent().getChildContainer("plot"),O=this.getLinkedParent().getChildContainer("plotShadow"),C=f.toolText,j=m.shadow,w=[],F={};if(d._configureEntityDrawingParams(e),n=(f=e.config).visibleEntityAttr,h=f.shadowOptions,o=f.outlineStartIndex===a?v.length:f.outlineStartIndex,e.graphics||(e.graphics={}),s=0,w=f.outlinePath||(f.outlinePath=[]),c=f.customStrokeWidthModifier,"object"==typeof f.options){for(;o--;)if(w=v[o].outline,r=!0===f.options.isDataEnabled?n:Object(b.W)(Object(b.W)({},n),_(v[o].style,c)),(i=e.graphics.outlines)||(i=e.graphics.outlines=[]),i[o]||(i[o]={}),l=i[o].outline,r[p]=w,(l=i[o].outline=u.setAnimation({el:p,container:k,attr:r,component:d,label:"path"})).shadow(!!j&&h,O),y.enableToolTip(l,C),s++,f.outlineStartIndex=o,s===t)return s;return f.drawn=!0,s}for(;o--;)if(w=v[o].concat(w),s++,f.outlineStartIndex=o,s===t)return f.outlinePath=w,s;return e.graphics.outlines||(n[p]=w),Object.assign(F,n,e.hidden&&{"fill-opacity":0}||{}),e.graphics.outlines=u.setAnimation({el:e.graphics.outlines||p,container:k,attr:F,component:d,label:"path"}),f.drawn=!0,f.outlineStartIndex=0,f.outlinePath=[],e.graphics.outlines.shadow(!!j&&h,O),y.enableToolTip(e.graphics.outlines,C),s}},{key:"_configureEntityDrawingParams",value:function(e){var t,o=this.getFromEnv("chart"),a=e.config,n=o.config.entityOpts,r=o.config.scalingParams,i=!x||b.sb,l=r.scaleFactor,s=r.strokeWidth,c=(i?o.baseScaleFactor:1)*s,h=1===n.scaleBorder,d=a.borderThickness,g=a.alphaArr,u=a.origConnectorThickness,f=a.hoverBorderThickness,p=a.visibleEntityAttr,m=p["fill-opacity"];a.shadowOptions={scalefactor:[l,l*o.config.baseScaleFactor],opacity:F.apply(j,g)/100,useFilter:0},a.fillOpacity=e.hidden?0:m,i?(d=a.entityBorderThickness=h?d*c:d/l,u/=l,t=h?l:r.sFactor,f&&(f=a.hoverBorderThickness=h?f*c:f/l)):(d=h?d*s:d,t=h?r.scaleFactor:o.baseScaleFactor),a.entityBorderThickness=d,a.connectorThickness=u,a.customStrokeWidthModifier=t,p["stroke-width"]=d,p.transform=b.sb||!x?"":r.transformStr}},{key:"drawLabels",value:function(e){var t,o,a,n,r=this,i=e,l=r.getFromEnv("chart"),s=r.config,c=s.labelBatchSize,h=s.entityLength,d=[],g=l.getChildContainer("upperAnnotationGroup"),u=0,f=r.getChildren("mapLabelAnnotations")&&r.getChildren("mapLabelAnnotations")[u],b=0,m=0,v=l.config.annotationConfig;for(t in f||(n=new p.a,r.attachChild(n,"mapLabelAnnotations"),(f=r.getChildren("mapLabelAnnotations")[u]).addCustomGroup(g)),f.destroy(),f._renderer&&(f._renderer=null),v.showbelow=0,i){if(r.drawLabel(i[t],d),++b===c){for(o=0;o<d.length;o++)d[o].animationLabel="entityLabel";for(a=f.addGroup(Object.assign(v,{id:"entityLabels"+u,items:d,animationLabel:"entityLabelGroup"}),r),o=0;o<a.items.length;o++)a.items[o].addEventListener("fc-mouseover",d[o].onmouseover),a.items[o].addEventListener("fc-mouseout",d[o].onmouseout),a.items[o].addEventListener("fc-click",d[o].onclick);u++,(f=r.getChildren("mapLabelAnnotations")&&r.getChildren("mapLabelAnnotations")[u])||(n=new p.a,r.attachChild(n,"mapLabelAnnotations"),(f=r.getChildren("mapLabelAnnotations")[u]).addCustomGroup(g)),f.destroy(),f._renderer&&(f._renderer=null),b=0,d=[]}else if(m==h-1){for(o=0;o<d.length;o++)d[o].animationLabel="entityLabel";for(a=f.addGroup(Object.assign(v,{id:"entityLabels"+u,items:d,animationLabel:"entityLabelGroup"}),r),o=0;o<a.items.length;o++)a.items[o].addEventListener("fc-mouseover",d[o].onmouseover),a.items[o].addEventListener("fc-mouseout",d[o].onmouseout),a.items[o].addEventListener("fc-click",d[o].onclick)}m++}r.drawLabelConnFn(0)}},{key:"drawLabelConnFn",value:function(e){var t,o,a,n,r,i=this,l=i.config,s=i.components.data,c=l.BATCH_SIZE,h=l.entityKeys,d=h.length,g=0;for(o=e;o<d;o++){if("object"==typeof(n=(r=s[h[o]]).config).options)for(t=(a=n.labels)&&a.length||0;t--;)a[t].labelConnectors&&(i.drawLabelConnectors(r,a[t].labelConnectors,i),g++);else n.labelConnectors&&(i.drawLabelConnectors(r,n.labelConnectors,i),g++);if(g===c){i.addJob("drawLabelConnectors",i.drawLabelConnFn.bind(this,o),k.b.entitydraw);break}}}},{key:"_getLabelObject",value:function(e,t,o){var n,r,i,l,s,c,h,d,g,u,f,b=this,p=b.getFromEnv("chart"),m=e.config,v=p.config.scalingParams,y=e.graphics&&e.graphics.outlines,k=m.fontSize,O=m.labelPadding,C=m.labels||[],x=m.entityLabels||[];return t===a?(n=e.labelConfig,r=m.labelPosition,i=m.labelAlignment):(f=C[t],l=(n=x[t].config).style=f.style,r=f.labelPosition,i=f.labelAlignment),r?(s=r[0],c=r[1]):(s=(h=y.getBBox()).x+h.width/2,c=h.y+h.height/2),i?("right"===(d=i[0])?s-=O:"left"===d&&(s+=O),"top"===(g=i[1])?c-=O:"bottom"===g&&(c+=O)):(d="center",g="middle"),u=parseFloat(k)/v.sFactor,!o&&l&&(l.color&&(n.fontColor=l.color),l["font-size"]&&(u=parseFloat(l["font-size"])/v.sFactor),l["font-family"]&&(n.fontFamily=l["font-family"]),l["font-weight"]!==a&&(n.fontBold="bold"===l["font-weight"])),n.x=s.toString(),n.y=c.toString(),n.wrap=1,n.type="text",n.fontSize=u,{x:s.toString(),y:c.toString(),wrapwidth:I[d](void 0,s+void 0)-O,wrapheight:P[g](void 0,c+void 0)-O,wrap:1,type:"text",align:n.align,valign:n.vAlign,text:n.displayValue,tooltext:n.toolText,css:n.link!==a&&{cursor:"pointer",_cursor:"hand"},bgcolor:n.bgColor,bordercolor:n.borderColor,fillcolor:n.fontColor,fontsize:n.fontSize,font:n.fontFamily,bold:n.fontBold,onclick:function(t){var o,a,n=e.graphics.outlines;if(n instanceof Array)for(o=0,a=n.length;o<a;o++)b.entityClick(n[o].outline,t);else b.entityClick(n,t)},onmouseover:function(t){var o,a,n=e.graphics.outlines;if(n instanceof Array)for(o=0,a=n.length;o<a;o++)b.entityRollOver(n[o].outline,t);else b.entityRollOver(n,t)},onmouseout:function(t){var o,a,n=e.graphics.outlines;if(n instanceof Array)for(o=0,a=n.length;o<a;o++)b.entityRollOut(n[o].outline,t);else b.entityRollOut(n,t)},ontouchstart:function(t){var o,a,n=e.graphics.outlines;if(n instanceof Array)for(o=0,a=n.length;o<a;o++)b.entityRollOver(n[o].outline,t);else b.entityRollOver(n,t);b.entityRollOver(n,t)}}}},{key:"drawLabel",value:function(e,t){var o,n,r,i=e.config;if(i.showLabel)if("object"==typeof i.options)for(n=(r=i.labels)&&r.length||0,o=i.options.isDataEnabled;n--;)t.push(this._getLabelObject(e,n,o,!n));else t.push(this._getLabelObject(e,a,!0,!0))}},{key:"drawLabelConnectors",value:function(e,t,o){for(var a,n,r=e.config,i=this.getFromEnv("chart"),l=i.getFromEnv("animationManager"),s=i.config.scalingParams,c=o.getLinkedParent().getChildContainer("plot"),h=t&&t.length||0,d=r.showLabel;h--;)n=t[h],a=e.graphics.connectorElem,d?e.graphics.connectorElem=a=l.setAnimation({el:e.graphics.connectorElem||"path",attr:{path:n,opacity:1,transform:b.sb||!x?"":s.transformStr,stroke:Object(b.P)(r.connectorColor,r.connectorAlpha),"shape-rendering":"crisp","stroke-width":r.connectorThickness},container:c,component:this,label:"labelConnectors"}):a&&a.hide()}},{key:"entityClick",value:function(e,t){var o=e.node.__entity,n=this.getFromEnv("chart"),r=n.config.scalingParams,i=e.getBBox(),l=n.getFromEnv("linkClickFN"),s=o.config,c=s.link;i.width*=r.scaleFactor,i.height*=r.scaleFactor,i.x=i.x*r.scaleFactor+r.translateX,i.y=i.y*r.scaleFactor+r.translateY,i.x2=i.x+i.width,i.y2=i.y+i.height,n.fireChartInstanceEvent("entityclick",s.eventArgs,t),c!==a&&l.call({link:c,entity:o,entityBox:i},!0)}},{key:"entityRollOver",value:function(e,t){var o=e.node.__entity,a=o.config,n=this.getFromEnv("chart"),r=n.getFromEnv("animationManager"),i=a.hoverAttr;n.plotEventHandler(e,t,"entityRollOver"),e.data("hovered")?clearTimeout(o.config.timer):a.useHoverColor&&a.isVisible&&!o.hidden&&i&&(n.config.hoverEntity=e,r.setAnimation({el:e,attr:i,component:this,state:"updating",label:"path"}),e.data("hovered",!0))}},{key:"entityRollOut",value:function(e,t){var o=e.node.__entity,a=this,n=a.getFromEnv("chart"),r=n.getFromEnv("animationManager"),i=o.config.revertAttr;n.plotEventHandler(e,t,"entityRollOut"),o.config.timer=setTimeout(function(){!0!==o.hidden&&i&&(r.setAnimation({el:e,attr:i,component:a,state:"updating",label:"path"}),e.data("hovered",!1))},100)}},{key:"addMouseGestures",value:function(e){var t,o,n,r,i=e.config,l=i.originalId,s=this,c=e.graphics,h=i.useHoverColor,d=i.hoverBorderThickness,g=i.hoverBorderColor,u=i.hoverBorderAlpha,f=i.entityBorderThickness,p=i.borderColor,m=i.borderAlpha,v=i.link,y=i.visibleEntityAttr,k=function(t){v!==a&&t.css({cursor:"pointer",_cursor:"hand"}),t.data("eventArgs",i.eventArgs),t.data("groupId","groupId"+l),t.node.__entity=e,e._listenersBinded||t.on("fc-click",s.entityClick.bind(s,t)).hover(s.entityRollOver.bind(s,t),s.entityRollOut.bind(s,t))};for(t in i.eventArgs={value:i.cleanValue,label:i.label,shortLabel:i.shortLabel,originalId:i.origId,id:i.id||i.origId},i.legacyEventArgs={value:i.value,lName:i.label,sName:i.shortLabel,id:i.originalId||i.id},h&&(i.hoverAttr={fill:Object(b.Ub)(i.hoverColor)},i.revertAttr={fill:Object(b.Ub)(i.fillColor),stroke:Object(b.Ub)(i.borderColor,i.borderAlpha)},i.revertAttr["fill-opacity"]=y["fill-opacity"],d!==f&&(i.hoverAttr["stroke-width"]=Object(b.Jb)(d,f),i.revertAttr["stroke-width"]=f),(g!==p||u!==m)&&(i.hoverAttr.stroke=Object(b.P)(g,u),i.revertAttr.stroke=Object(b.P)(p,m))),c)if(c.hasOwnProperty(t))if(c[t]instanceof Array){for(o=0,n=(r=c[t]).length;o<n;o++)k(r[o].outline);e._listenersBinded=!0}else k(c[t]),e._listenersBinded=!0}},{key:"getDataLimits",value:function(){var e=this.config;return{max:e.max,min:e.min}}},{key:"createContainer",value:function(){var e=this,t=e.getLinkedParent(),o=e.getFromEnv("animationManager"),a=t.getChildContainer("layer0");e.getChildContainer("abovePlotGroup")||e.addChildContainer("abovePlotGroup",o.setAnimation({el:"group",attr:{name:"abovePlotGroup",opacity:1},container:a,component:e,label:"group"})),e.getChildContainer("belowPlotGroup")||e.addChildContainer("belowPlotGroup",o.setAnimation({el:"group",attr:{name:"belowPlotGroup",opacity:1},container:a,component:e,label:"group"}))}},{key:"initComplete",value:function(){var e=this.getFromEnv("chart"),t=this.components.data;this.drawLabels(t),e.config.entitiesReady=!0,e.checkComplete()}}],[{key:"setCustomAttrs",value:function(e,t){e&&e.graphics.outlines.attr(t)}},{key:"_sanitizeEntityOptions",value:function(e){return delete e.outlines,delete e.label,delete e.shortlabel,delete e.labelposition,delete e.labelalignment,delete e.labelconnectors,e}},{key:"_getKeys",value:function(e,t){for(var o=[e],a=e;t[a];)a=t[a].nextId,o.push(a);return o}}]),t}(d.a),H=function(e,t,o,a,n){var r=Math.pow;return r(o-e,2)+r(a-t,2)<=r(n,2)},R=Math.PI,M=Math.cos,B=Math.sin,D=Math.max,J=Math.min,V=R/180,G=function(e,t,o,a,n,r){var i,l,s;return i=(a-t)*(n-o),l=(o-e)*(r-a),isNaN(i)&&(i=0),isNaN(l)&&(l=0),0===(s=i-l)?0:0<s?1:2},N=function(e,t,o,a,n,r){return!!(o<=D(e,n)&&o>=J(e,n)&&a<=D(t,r)&&a>=J(t,r))},W=function(e,t,o,a,n,r,i,l){var s=G(e,t,o,a,n,r),c=G(e,t,o,a,i,l),h=G(n,r,i,l,e,t),d=G(n,r,i,l,o,a);return!(s===c||h===d)||!(0!==s||!N(e,t,n,r,o,a))||!(0!==c||!N(e,t,i,l,o,a))||!(0!==h||!N(n,r,e,t,i,l))||!(0!==d||!N(n,r,o,a,i,l))},z=function(e,t,o,a,n,r,i){var l,s,c,h,d,g,u,f=0,b=!1;if(H(e,t,o,a,n)&&3<=r){for(s=void 0===i?.5*R:function(e){return e%360*V}(i),u=2*R/r,c=o+n*M(-s),g=a+n*B(-s),l=0;l<r;l++){if(h=o+n*M(-(s+=u)),d=a+n*B(-s),W(c,g,h,d,e,t,1/0,t)){if(0===G(c,g,e,t,h,d))return N(c,g,e,t,h,d);f++}c=h,g=d}b=0!=f%2}return b},X=function(e,t){return!e||e&&t&&t.i>e.i?t:e};var U=function(){function e(t){Object(i.a)(this,e);this.configure(t)}return Object(n.a)(e,[{key:"configure",value:function(e){var t=this;t.validatorFn=e?t.shapeValidator():t.defaultValidator()}},{key:"defaultValidator",value:function(){var e=Math.pow,t=this;return function(o){var a=t.mousePoint;return!!(o&&1>=e((o.x-a.x)/t.xLimit,2)+e((o.y-a.y)/t.yLimit,2))}}},{key:"shapeValidator",value:function(){var e=this;return function(t){var o,a,n,r,i,l,s,c,h,d=e.mousePoint,g=t&&t.shapeInfo,u=!1,f=d.x,b=d.y;return"circle"===(o=g&&g.type)?(n=g.radius,u=H(f,b,t.x,t.y,n)):"arc"===o?(a=g.innerradius,n=g.radius,u=!H(f,b,t.x,t.y,a)&&H(f,b,t.x,t.y,n)):"polygon"===o?(n=g.radius,i=g.startAngle,r=g.sides,u=z(f,b,t.x,t.y,n,r,i)):"rect"===o||"rectangle"===o?(l=t.x,c=t.y,s=l+(g.width||0),h=c+(g.height||0),u=f>=l&&f<=s&&b>=c&&b<=h):"default"===o&&(u=!1),u}}},{key:"buildKdTree",value:function(e){return this.kdTree=function(e){function t(e,t,o){var a=e[t];e[t]=e[o],e[o]=a}var o,a,n,r=e&&e[0]&&e[0].r||5,i=Math.max,l=Math.floor,s=Math.sqrt,c=Math.min,h=Math.log,d=Math.exp,g=Math.pow;for(a=function(e,o,n,r){for(var g,u,f,b,p,m,v,y,k,O;r>n;){for(600<r-n&&(u=o-n+1,f=h(g=r-n+1),b=.5*d(2*f/3),p=.5*s(f*b*(g-b)/g)*(0>u-g/2?-1:1),m=i(n,l(o-u*b/g+p)),v=c(r,l(o+(g-u)*b/g+p)),a(e,o,m,v)),y=e[o],k=n,O=r,t(e,n,o),e[r].x>y.x&&t(e,n,r);k<O;){for(t(e,k,O),k++,O--;e[k].x<y.x;)k++;for(;e[O].x>y.x;)O--}e[n].x===y.x?t(e,n,O):t(e,++O,r),O<=o&&(n=O+1),o<=O&&(r=O-1)}},n=function(e,o,a,r){for(var g,u,f,b,p,m,v,y,k,O;r>a;){for(600<r-a&&(u=o-a+1,f=h(g=r-a+1),b=.5*d(2*f/3),p=.5*s(f*b*(g-b)/g)*(0>u-g/2?-1:1),m=i(a,l(o-u*b/g+p)),v=c(r,l(o+(g-u)*b/g+p)),n(e,o,m,v)),y=e[o],k=a,O=r,t(e,a,o),e[r].y>y.y&&t(e,a,r);k<O;){for(t(e,k,O),k++,O--;e[k].y<y.y;)k++;for(;e[O].y>y.y;)O--}e[a].y===y.y?t(e,a,O):t(e,++O,r),O<=o&&(a=O+1),o<=O&&(r=O-1)}},o=(e=e||[]).length;o--;)e[o].r>r&&(r=e[o].r),e[o].i=o,e[o].x=+e[o].x,e[o].y=+e[o].y;return{tree:0===e.length?{}:function e(t,o,r,i){var l,s={},c=i?"y":"x";return o===r?(s.point=t[o],s):1==r-o?(t[o][c]>t[r][c]?(s.point=t[o],s.left={point:t[r]}):(s.point=t[r],s.left={point:t[o]}),s):(l=o+r>>1,i?n(t,l,o,r):a(t,l,o,r),s.point=t[l],s.left=e(t,o,l-1,!i),s.right=e(t,l+1,r,!i),s)}(e,0,e.length-1,!1),search:function(e,t,o,a){function n(e,t,o,a){return s(g(e-o,2)+g(t-a,2))}function i(a,r){return"circle"===o?n(a,r,e,t)<=p:a>=p&&a<=m&&r>=v&&r<=y}function l(e,t,o){return e>=t&&e<=o}function c(o){var a=l(e,o.x1,o.x2)&&l(t,o.y1,o.y2),r=n(e,t,o.point.x,o.point.y);return d?void(a?k?o.point.i>d.point.i&&(d=o,k=a,O=r):(d=o,k=a,O=r):!k&&r<O&&(d=o,k=a,O=r)):(d=o,k=a,void(O=r))}function h(a,n){"circle"===o?p=a:(p=e-a||0,m=e+a||0,v=t-n||0,y=t+n||0)}var d,u,f,b=this.tree,p=e-r,m=e+r,v=t-r,y=t+r,k=!1,O=0;return a=a||{},f=function(e){e&&e.point&&(h(a.rx||e.point.r,a.ry||e.point.r),i(e.point.x,e.point.y)&&c(e),v<=e.point.y&&u(e.left),y>=e.point.y&&u(e.right))},(u=function(e){e&&e.point&&(h(a.rx||e.point.r,a.ry||e.point.r),i(e.point.x,e.point.y)&&c(e),p<=e.point.x&&f(e.left),m>=e.point.x&&f(e.right))})(b),d&&d.point||d}}}(e),this.tree=this.kdTree.tree,this}},{key:"getNeighbour",value:function(e,t,o){var a=this,n=a.tree,r={x1:e.x-a.xLimit,x2:e.x+a.xLimit,y1:e.y-a.yLimit,y2:e.y+a.yLimit},i=a.validatorFn;return a.mousePoint=e,t?this.kdTree&&this.kdTree.search(e.x,e.y,o,e.options):n?a._searchBtwnLimit(r,n,!0,i):void 0}},{key:"_searchBtwnLimit",value:function(e,t,o,a){var n,r,i=o?"x":"y",l=o?e.x1:e.y1,s=o?e.x2:e.y2;if(void 0!==(n=t&&t.point&&t.point[i]))return a(t.point)&&(r=t.point),n>=l&&t.left&&(r=X(r,this._searchBtwnLimit(e,t.left,!o,a))),n<=s&&t.right&&(r=X(r,this._searchBtwnLimit(e,t.right,!o,a))),r}},{key:"_setSearchLimit",value:function(e,t){this.xLimit=e,this.yLimit=t}}]),e}();U.prototype.constructor=U;var K=U,Y="top",q="bottom",Z="right",$="left",Q="middle",ee="center",te=window.Math,oe=te.min,ae=te.max,ne=function(){var e,t=this,o=t.dataset.getFromEnv("chart"),a=t.dataset.getChildren("mapAnnotations")[0],n=t.markerShape,r=n.groupConfig,i=n.data("unfilteredConfig"),l=i._markerEventArgs,s=t.config;i.hovereffect&&("circle"===n.config.type&&(e=Object(b.W)({fillcolor:i.hoverfillcolor,fillalpha:i.hoverfillalpha,fillangle:i.hoverfillangle,fillratio:i.hoverfillratio,gradientUnits:"objectBoundingBox",radialGradient:1},i._hoverattrs)),e=Object(b.W)({},i._hoverattrs),a.update(n.getId(),e)),l||(l=i._markerEventArgs={x:+i.x,y:+i.y,scaledX:i.x*r.scaleX,scaledY:i.y*r.scaleY,chartX:i.x*r.scaleX+r.grpXShift,chartY:i.y*r.scaleY+r.grpYShift,id:i.id,label:i.label}),Object(f.e)(s.options.id,"markerRollOver",l,o.getFromEnv("chartInstance"),s,void 0,void 0,void 0)},re=function(){var e,t=this,o=t.dataset.getFromEnv("chart"),a=t.dataset.getChildren("mapAnnotations")[0],n=t.markerShape,r=n.getElement(),i=t.config,l=n.data("unfilteredConfig");r&&l.hovereffect&&("circle"===n.config.type&&(e=Object(b.W)({fillcolor:n.config.rawColor,fillalpha:n.config.rawAlpha,fillangle:n.config.rawAngle,fillratio:n.config.rawRatio,gradientUnits:"objectBoundingBox",radialGradient:"radial"===n.config.rawFillPattern},l._defaultattrs)),e=Object(b.W)({},l._defaultattrs),a.update(n.getId(),e)),Object(f.e)(i.id,"markerRollOut",l._markerEventArgs,o.getFromEnv("chartInstance"),void 0,void 0,void 0)},ie=function(e){var t=this,o=t.config.options,a=t.dataset,n=a.getFromEnv("chart"),r=t.markerShape,i=r.config,l=r.groupConfig,s=a.getFromEnv("linkClickFN"),c=r.config.link,h=i._markerEventArgs;c&&s&&s.call({link:c},!0),h||(h=i._markerEventArgs={x:+i.x,y:+i.y,scaledX:i.x*l.scaleX,scaledY:i.y*l.scaleY,chartX:i.x*l.scaleX+l.grpXShift,chartY:i.y*l.scaleY+l.grpYShift,id:o.id,label:o.label}),n.fireChartInstanceEvent("markerClick",h,e)},le=function(e,t){var o,a=e&&e.length||!1,n=t||"id",r={};if(!e)return e;for(;a--;)void 0!==(o=e[a])[n]&&(r[o[n].toLowerCase()]=o);return r};Object(m.a)({name:"mapsAnimation",type:"animationRule",extension:y});var se=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(l.a)(this,Object(s.a)(t).call(this))).components={},e.getLabelAlignment={top:function(e,t,o){return{x:e.toString(),y:(t-o).toString(),align:ee,valign:Y}},left:function(e,t,o){return{x:(e-o).toString(),y:t.toString(),align:Z,valign:Q}},right:function(e,t,o){return{x:(e+o).toString(),y:t.toString(),align:$,valign:Q}},bottom:function(e,t,o){return{x:e.toString(),y:(t+o).toString(),align:ee,valign:q}},center:function(e,t){return{x:e.toString(),y:t.toString(),align:ee,valign:Q}}},e.getWrapWidth={right:function(){return arguments[1]},left:function(e,t){return e-t},center:function(e,t){return 2*oe(t,e-t)}},e.getWrapHeight={top:function(){return arguments[1]},middle:function(e,t){return 2*oe(t,e-t)},bottom:function(e,t){return e-t}},e.hoverFn=ne,e.hoverOutFn=re,e.clickFn=ie,e}return Object(c.a)(t,e),Object(n.a)(t,[{key:"getName",value:function(){return"markers"}},{key:"getType",value:function(){return"dataset"}},{key:"configureAttributes",value:function(e){if(e){this.JSONData=e;var t,o=this,a=o.getChildren("mapAnnotations")&&o.getChildren("mapAnnotations")[0],n=o.getFromEnv("chart").config.markerOpts;a||(t=new p.a,o.attachChild(t,"mapAnnotations"),a=o.getChildren("mapAnnotations")[0]),a.destroy(),o.calculateDataLimits(),n.dataEnabled?this._parseMarkers():this.defineMarkersNShapes(),this.configureConnectors()}}},{key:"calculateMarkerRadiusLimits",value:function(){if(this.JSONData){var e=this,o=e.JSONData,a=e.config,n=e.getFromEnv("chart"),r=n.config.width,i=n.config.height,l=o.markermaxradius,s=o.markerminradius,c=t.getMarkerRadiusLimits(r,i,l,s);a.minRadius=c.min,a.maxRadius=c.max}}},{key:"calculateDataLimits",value:function(){var e,t,o,a,n=this.getFromEnv("chart"),r=this.config,i=(n.jsonData.markers||{}).items||[],l=this.getFromEnv("number-formatter"),s=1/0,c=-1/0;for(a=0,t=i.length;a<t;a++)o=i[a].value,null!==(e=l.getCleanValue(o))&&(s=oe(e,s),c=ae(e,c));r.min=s,r.max=c}},{key:"_parseMarkers",value:function(){var e,o,a,n,r,i,l,s,c=this,h=c.getFromEnv("chart"),d=h.jsonData.markers,g=d.items,u=d.shapes,f=h.config.markerOpts,p=this.getFromEnv("number-formatter"),m=c.components.shapeObjs={},v=c.components.markerObjs={};if(g&&g.length){if(u&&u.length)for(o=u.length;o;o-=1)(s=(n=u[o-1]).id.toLowerCase())&&(m[s]=n);for(o=g.length;o--;)(s=(n=g[o]).id&&n.id.toLowerCase())&&(void 0!==(e=n.value)&&""!==e&&(e=parseFloat(e)),(r=(a=t._initializeMarkerItem(s,n,null,h)).config.options.shapeid)&&"string"==typeof r&&(r=r.toLowerCase()),l=(i=a.config).options,i.cleanValue=p.getCleanValue(e),i.formattedValue=null===i.cleanValue?void 0:p.dataLabels(e),i.fillColor=Object(b.Hb)(l.fillcolor,l.color,f.fillColor),i.fillAlpha=Object(b.Hb)(l.fillalpha,l.alpha,f.fillAlpha),i.fillRatio=Object(b.Hb)(l.fillratio,f.fillRatio),i.fillAngle=Object(b.Hb)(l.fillangle,f.fillAngle),i.borderThickness=Object(b.Jb)(l.borderthickness,f.borderThickness),i.borderColor=Object(b.Hb)(l.bordercolor,f.borderColor),i.borderAlpha=Object(b.Hb)(l.borderalpha,f.borderAlpha),i.labelPadding=l.labelpadding||f.labelPadding,a.dataset=c,n.__hideMarker&&(a._isHidden=!0),r&&(a.shapeObj=m[r]),v[s]=a)}}},{key:"defineMarkersNShapes",value:function(){var e,o,a,n,r,i,l,s,c=this,h=c.getFromEnv("chart"),d=h.jsonData.markers,g=d.definition,u=this.getFromEnv("number-formatter"),f=h.config.markerOpts,p=le(g)||{},m=le(d.application)||{},v=d.shapes,y=c.components.shapeObjs=c.components.shapeObjs||(c.components.shapeObjs={}),k=c.components.markerObjs=c.components.markerObjs||(c.components.markerObjs={}),O={},C={};if(g&&g.length){for(n in y)O[n]=!1;for(n in k)C[n]=!1;if(v&&v.length)for(n=v.length;n;n-=1)(s=(i=v[n-1]).id.toLowerCase())&&(y[s]=i,O[s]=!0);for(s in p)i=p[s],r=k[s]=t._initializeMarkerItem(s,i,m[s],h),C[s]=!0,r.dataset=c,l=r.config.options.shapeid,o=r.config,a=i.value,o.cleanValue=u.getCleanValue(a),e=o.options,o.formattedValue=null===o.cleanValue?void 0:u.dataLabels(a),o.fillColor=Object(b.Hb)(e.fillcolor,e.color,f.fillColor),o.fillAlpha=Object(b.Hb)(e.fillalpha,e.alpha,f.fillAlpha),o.fillRatio=Object(b.Hb)(e.fillratio,f.fillRatio),o.fillAngle=Object(b.Hb)(e.fillangle,f.fillAngle),o.borderThickness=Object(b.Jb)(e.borderthickness,f.borderThickness),o.borderColor=Object(b.Hb)(e.bordercolor,f.borderColor),o.borderAlpha=Object(b.Hb)(e.borderalpha,f.borderAlpha),o.labelPadding=e.labelpadding||f.labelPadding,o.options.tooltext=Object(b.Hb)(e.tooltext,f.tooltext),o.link=e.link,l&&(r.shapeObj=y[l.toLowerCase()]);for(n in O)O[n]||delete y[n];for(n in k)C[n]||delete k[n]}}},{key:"getDataLimits",value:function(){var e=this.config;return{min:e.min,max:e.max}}},{key:"configureConnectors",value:function(){var e,t,o,a,n,r,i,l,s,c,h,d,g,u,f=this,p=f.getFromEnv("chart"),m=f.getChildren("mapAnnotations")[0],v=p.jsonData,y=f.components,k=v.markers||{},O=k.connector||k.connectors||[],C=y.markerObjs,x=O.length,j=f.components.connectors,w=function(e){return function(t){var o=this.data("unfilteredConfig");o.hoverEffect&&m.update(this.getId(),o._hoverAttrs),p.fireChartInstanceEvent("connectorrollover",e,t)}},F=function(e){return function(t){var o=this.data("unfilteredConfig");o.hoverEffect&&m.update(this.getId(),o._defaultAttrs),p.fireChartInstanceEvent("connectorrollout",e,t)}},A=function(e){return function(t){p.fireChartInstanceEvent("connectorClick",e,t)}},L=p.config.connectorOpts,S={};for(j=f.components.connectors=[],u=0;u<x;u++)((g=O[u]).from||g.to)&&(t=C[g.from.toLowerCase()],o=C[g.to.toLowerCase()],t&&o)&&(a=O[u].label,(S=j[u])||(S=j[u]={}),S.config||(e=S.config={}),S.graphics||(S.graphics={}),(e=S.config=Object(b.W)({},g)).fromMarker=t,e.toMarker=o,e.link=g.link,e.showTooltip=Object(b.Jb)(g.showtooltip,L.showTooltip),n=e.tooltext=e.showTooltip?Object(b.Hb)(g.tooltext,L.tooltext):"",r=e.thickness=Object(b.Hb)(g.thickness,L.thickness),i=e.color=Object(b.Hb)(g.color,L.color),l=e.alpha=Object(b.Hb)(g.alpha,L.alpha),e.hoverEffect=Object(b.Jb)(g.showhovereffect,L.showHoverEffect),s=Object(b.Hb)(g.hovercolor,L.hoverColor,i),c=Object(b.Hb)(g.hoveralpha,L.hoverAlpha,l),h=Object(b.Hb)(g.hoverthickness,L.hoverThickness,r),e.dashed=Object(b.Hb)(g.dashed,L.dashed),e.dashLen=Object(b.Jb)(g.dashlen,L.dashlen),e.dashGap=Object(b.Jb)(g.dashgap,L.dashgap),n&&(e.tooltext=n=Object(b.Gb)(Object(b.Fb)(n,[3,40,41,42,43],{label:a,fromId:t.config.definition.id,toId:o.config.definition.id,fromLabel:t.config.definition.label,toLabel:o.config.definition.label},void 0))),e.eventArgs={fromMarkerId:t.config.id,toMarkerId:o.config.id,label:a},e._hoverAttrs={color:s,alpha:c,thickness:h},e._defaultAttrs={color:i,alpha:l,thickness:r},e.type="line",e.onclick=A(e.eventArgs),e.onmouseover=w(e.eventArgs),e.onmouseout=F(e.eventArgs),a&&(!(d=S.labelConfig)&&(d=S.labelConfig={}),d.type="text",d.text=a,d.align=ee,d.valign=Q,d.font=L.font,d.fillcolor=L.fontColor,d.bgcolor=L.labelBgColor,d.bordercolor=L.labelBorderColor,d.tooltext=e.tooltext))}},{key:"draw",value:function(){var e,t,o,a,n,r,i,l=this,s=l.getFromEnv("chart"),c=l.config,h=l.getChildren("mapAnnotations")[0],d=l.components.markerObjs,g=s.config,u=g.markerOpts,f=g.scalingParams,b=s.config.annotationConfig,p=[],m=[],v={};for(n in l.createContainer(),l._drawConnectors(),l.imageLoadCount=0,l.imageCount=0,i=h.addGroup(Object.assign(b,{id:"markers",fillalpha:"100",items:p,scaleimages:1}),l),r=h.addGroup(Object.assign(b,{id:"markerLabels",items:m,scaleimages:1}),l),l.components.markerGroup=i,l.components.markerLabelGroup=r,c.autoScale=u.autoScale?f.sFactor:1,d)e=null,(a=(t=d[n]).config).conIsHidden||(e=this._drawMarkerItem.call(t)),e&&(a._annotationIndex=p.length,v[n]=t,e.markerShape&&(o=Object.assign({align:"center",valign:"middle",animationLabel:"markerItem",autoscale:"image"===e.markerShape.type?0:1},e.markerShape),t.markerShape=h.addItem(i.getId(),o,l)),t.markerShape.data("unfilteredConfig",o),p.push(t.markerShape),e.markerLabel&&(o=Object.assign({animationLabel:"markerItem"},e.markerLabel),t.markerLabel=h.addItem(r.getId(),o,l),t.markerLabel.data("unfilteredConfig",o)),m.push(t.markerLabel));l.addJob("buildKdtree",l._buildKdTree.bind(l),k.b.kdTree)}},{key:"_buildKdTree",value:function(){var e,t,o=this,a=o.components.kdArrayMap,n=o.components.markerGroup,r=[],i=n&&n.items,l=i&&i.length||0;for(t=0;t<l;t++)a[e=i[t].config.id]&&r.push(a[e]);o.components.kDTree||(o.components.kDTree=new K(!0)),o.components.kDTree._setSearchLimit(1/0,1/0),o.components.kDTree.buildKdTree(r)}},{key:"_drawMarkerItem",value:function(){var e,t,o,a,n,r,i,l,s,c,h,d,g,u,f,p,m,v,y=this,k=y.dataset,O=k.getFromEnv("chart"),C=O.config,x=k.config,j=C.scalingParams,w=y.config,F=w.options,A=w.definition,L=C.markerOpts,S=L.dataLabels.style,E=F.shapeid,_=F.scale||1,I=F.label||"",P=O.config.scalingParams.scaleFactor*O.config.baseScaleFactor,T=(F.labelpos||Y).toLowerCase(),H=void 0===w.formattedValue?void 0:w.formattedValue,R=F.tooltext||L.tooltext,M=Object(b.Jb)(A.radius,w.radius,L.radius)*_*x.autoScale||1e-4,B=w.fillColor,D=w.fillAlpha,J=w.fillRatio,V=w.fillAngle,G=w.borderThickness,N=w.borderColor,W=w.borderAlpha,z=k.getChildren("mapAnnotations")[0],X=k.components.kdArrayMap||(k.components.kdArrayMap={}),U=y.config.id;if(w.autoScale=L.autoScale?P:1,E)return R=R?Object(b.Gb)(Object(b.Fb)(R,[1,2,3],{formattedValue:H,label:I},F)):H?I+L.tooltipSepChar+H:I,void 0!==H&&null!==H?I=I+L.labelSepChar+H:isNaN(_)?_=1:0>_?_=0:5<_&&(_=5),Object(b.W)(F,{x:F.x&&F.x.toString(),y:F.y&&F.y.toString(),fillcolor:B,fillalpha:D,fillratio:J,fillangle:V,borderthickness:G,bordercolor:N,borderalpha:W,hovereffect:Object(b.Hb)(L.showHoverEffect),radius:M&&M.toString(),link:F.link,showshadow:Object(b.Jb)(F.showshadow,w.shadow),_markerLabel:I,_markerId:F.id,id:(F.id+"").toLowerCase()}),delete F.tooltext,w.tooltext=!!L.showTooltip&&R,g=+F.x*j.sFactor+j.translateX,u=+F.y*j.sFactor+j.translateY,M=F.radius,"triangle"===E?(Object(b.W)(F,{type:"polygon",sides:3,startangle:L.startAngle}),v="polygon",m=3):"diamond"===E?(Object(b.W)(F,{type:"polygon",sides:4,startangle:L.startAngle}),v="polygon",m=4):"arc"===E?(p=.6*M,Object(b.W)(F,{type:"arc",startangle:0,endangle:360,innerradius:p}),v="arc"):"circle"===E?(F.type="circle",v="circle"):(h=k.getShapeArgs.call(y),L.dataEnabled&&L.valueToRadius&&void 0!==F.radius?delete h.radius:(!h.radius&&(h.radius=L.radius),h.radius*=_*w.autoScale),Object(b.W)(F,h),F.id=F._markerId&&F._markerId.toLowerCase(),p=h.innerradius,h.radius&&(M=h.radius),v=h.type&&h.type.toLowerCase(),m=h.sides,(M=+M)&&p&&M<p&&(d=M,F.radius=M=p,F.innerradius=p=d)),F.type=F.type&&F.type.toLowerCase(),Object(b.W)(F,{hoverfillcolor:Object(b.Hb)(F.fillhovercolor,L.hoverFillColor,F.fillcolor),hoverfillalpha:Object(b.Hb)(F.fillhoveralpha,L.hoverFillAlpha,F.fillalpha),hoverfillratio:Object(b.Hb)(F.fillhoverratio,L.hoverFillRatio,F.fillratio),hoverfillangle:Object(b.Hb)(F.fillhoverangle,L.hoverFillAngle,F.fillangle),hoverborderthickness:Object(b.Jb)(F.borderhoverthickness,L.hoverBorderThickness,F.borderthickness),hoverbordercolor:Object(b.Hb)(F.borderhovercolor,L.hoverBorderColor,F.bordercolor),hoverborderalpha:Object(b.Hb)(F.borderhoveralpha,L.hoverBorderAlpha,F.borderalpha)}),F._hoverattrs={fillalpha:F.hoverfillalpha,fillcolor:F.hoverfillcolor,fillangle:F.hoverfillangle,fillratio:F.hoverfillratio,borderThickness:"0"===F.showborder?0:F.hoverborderthickness,borderColor:F.hoverbordercolor,borderAlpha:F.hoverborderalpha},F._defaultattrs={fillalpha:F.fillalpha,fillcolor:F.fillcolor,fillangle:F.fillangle,fillratio:F.fillratio,borderThickness:"0"===F.showborder?0:F.borderthickness,borderColor:F.bordercolor,borderAlpha:F.borderalpha},"image"===F.type?(F.borderthickness=F.borderthickness||0,F.onload=function(e){var t=e.width,o=e.height;f={},F=this.config,g=(+F.derivedX-t/(2*j.sFactor))*j.sFactor,u=(+F.derivedY-o/(2*j.sFactor))*j.sFactor,(f=X[U]||(X[U]={})).x=g+j.translateX,f.y=u+j.translateY,f.element=y,f.shapeInfo={type:"rect",width:t,height:o},t&&o&&z.update(this.getId(),{x:g,y:u,width:t,height:o,autoscale:0}),k.imageLoadCount++,k.imageLoadCount===k.imageCount&&k._buildKdTree()},F.onerror=function(){k.imageLoadCount++,k.imageLoadCount===k.imageCount&&k._buildKdTree()},k.imageCount++):((f=X[U]||(X[U]={})).x=g,f.y=u,f.element=y,f.shapeInfo={type:v,sides:m,radius:+M+F.borderthickness/2,innerradius:p}),w.drawOptions.shape=F,L.showLabels?(c=F.labelpadding||L.labelPadding,t=(e=k._getLabelOptions(T,c,F)).align,o=e.valign,a=w._labelBaseWidth,n=w._labelBaseHeight,r=w._labelXOffset,i=w._labelYOffset,(l=L.labelWrapWidth?L.labelWrapWidth:k.getWrapWidth[t](a,+e.x+r))>c&&(l-=c),(s=L.labelWrapHeight?L.labelWrapHeight:k.getWrapHeight[o](n,+e.y+i))>c&&(s-=c),w.drawOptions.label=Object(b.W)({type:"text"},{text:I,tooltext:F.tooltext,x:e.x,y:e.y,align:t,valign:e.valign,wrap:1,wrapwidth:l,wrapheight:s,fontsize:S.fontSize/j.sFactor,font:S.fontFamily,fillcolor:S.fontColor}),{markerShape:F,markerLabel:w.drawOptions.label}):{markerShape:F}}},{key:"highlightPoint",value:function(e,t){var o=e.element,a=this,n=t.originalEvent,r=a.getFromEnv("chart"),i=a.getFromEnv("toolTipController"),l=a.config.currentToolTip,s=r.config.lastHoveredPoint;s&&s!==e&&(s&&a.hoverOutFn.call(s.element),r.config.lastHoveredPoint=null,i.hide(l)),!1===e||("click"===t.type||"touchstart"===t.type?(r.config.lastHoveredPoint!==e&&a.hoverFn.call(o),a.clickFn.call(o,t)):"mousemove"===t.type&&r.config.lastHoveredPoint!==e&&a.hoverFn.call(o),o.config.tooltext&&(l?i.draw(n,o.config.tooltext,l):l=a.config.currentToolTip=i.draw(n,o.config.tooltext)),r.config.lastHoveredPoint=e)}},{key:"_drawConnectors",value:function(){var e,t,o,a,n,r,i,l,s,c,h=this,d=h.getFromEnv("chart"),g=d.config.annotationConfig,u=h.components.connectors||(h.components.connectors=[]),f=u.length,b=d.config.scalingParams,p=d.config.connectorOpts,m=p.showLabels,v=h.getChildren("mapAnnotations")[0],y=[],k=[],O=[];for(O.push({id:"connectorLabels",fillalpha:"100",items:k}),O.push({id:"connectors",fillalpha:"100",items:y}),v.addGroup(Object.assign(g,O[1]),h),v.addGroup(Object.assign(g,O[0]),h),o=0;o<f;o++)u[o]&&(l=u[o].config.fromMarker.config,s=u[o].config.toMarker.config,a=l.options.x,n=l.options.y,r=s.options.x,i=s.options.y,u[o].config.x=a,u[o].config.y=n,u[o].config.tox=r,u[o].config.toy=i,y.push(u[o].config),c=Object.assign({animationLabel:"markerItem"},u[o].config),(e=v.addItem("connectors",c,h))&&e.data("unfilteredConfig",c),e.addEventListener("fc-mouseover",u[o].config.onmouseover),e.addEventListener("fc-mouseout",u[o].config.onmouseout),e.addEventListener("fc-click",u[o].config.onclick),u[o].labelConfig&&m&&(u[o].labelConfig.x=((+a+ +r)/2).toString(),u[o].labelConfig.y=((+n+ +i)/2).toString(),u[o].labelConfig.fontsize=p.fontSize/(b.scaleFactor*d.config.baseScaleFactor),k.push(u[o].labelConfig),c=Object.assign({animationLabel:"markerItem"},u[o].labelConfig),(t=v.addItem("connectorLabels",c,h))&&t.data("unfilteredConfig")))}},{key:"getShapeArgs",value:function(){var e,t=this.config,o=Object(b.W)({},this.shapeObj);return t.autoScale=1,o?("polygon"===o.type?3>o.sides?o.type="circle":o.startangle=t.startAngle:"arc"===o.type&&(e=(o.radius||t.markerRadius)*t.autoScale,o.radius=e,o.innerradius=o.innerradius&&o.innerradius*t.autoScale||.6*e),o):null}},{key:"_getLabelOptions",value:function(e,t,o,a,n){var r,i,l,s=e&&e.toLowerCase();return this.getLabelAlignment[s]||(s="center"),i=+o.x,l=+o.y,r=+(r=void 0===a||void 0===n?o.radius||0:/^(top|bottom)$/gi.test(s)&&.5*n||/^(left|right)$/gi.test(s)&&.5*a||0)+ +t,this.getLabelAlignment[s](i,l,r)}},{key:"addMarkerItem",value:function(e){var o,a,n,r,i,l,s,c=this,h=c.getFromEnv("chart"),d=e,g=c.components.markerObjs,u=c.components.shapeObjs,f=c.components.markerGroup,p=c.components.markerLabelGroup,m=c.getChildren("mapAnnotations")[0],v=c.getFromEnv("number-formatter"),y=h.config.markerOpts;if(s=d.id.toLowerCase()){if(g[s])return;delete d.value,c.imageLoadCount=0,(o=t._initializeMarkerItem(s,d,null)).dataset=c,l=o.config.options.shapeid,n=o.config,i=d.value,n.cleanValue=v.getCleanValue(i),e=n.options,n.formattedValue=null===n.cleanValue?void 0:v.dataLabels(i),n.fillColor=Object(b.Hb)(e.fillcolor,e.color,y.fillColor),n.fillAlpha=Object(b.Hb)(e.fillalpha,e.alpha,y.fillAlpha),n.fillRatio=Object(b.Hb)(e.fillratio,y.fillRatio),n.fillAngle=Object(b.Hb)(e.fillangle,y.fillAngle),n.borderThickness=Object(b.Jb)(e.borderthickness,y.borderThickness),n.borderColor=Object(b.Hb)(e.bordercolor,y.borderColor),n.borderAlpha=Object(b.Hb)(e.borderalpha,y.borderAlpha),n.labelPadding=e.labelpadding||y.labelPadding,n.options.tooltext=Object(b.Hb)(e.tooltext,y.tooltext),n.link=e.link,l&&(o.shapeObj=u[l&&l.toLowerCase()]),g[s]=o,a=c._drawMarkerItem.call(o),f&&p&&(a.markerShape&&(r=Object.assign({align:"center",valign:"middle",animationLabel:"markerItem",autoscale:"image"===a.markerShape.type?0:1},a.markerShape),o.markerShape=m.addItem(f.getId(),r,c),o.markerShape.data("unfilteredConfig",r)),a.markerLabel&&(r=Object.assign({animationLabel:"markerItem"},a.markerLabel),o.markerLabel=m.addItem(p.getId(),r,c),o.markerLabel.data("unfilteredConfig",r))),c._buildKdTree()}}},{key:"updateMarkerItem",value:function(e,t){var o,a,n,r,i=this,l=i.getFromEnv("chart"),s=i.getChildren("mapAnnotations")[0],c=i.components.markerObjs,h=l.config.markerOpts,d={},g=c[e];if(g){for(a in o=g.config.options,Object(b.W)(o,t),i.imageLoadCount=0,n=g.config,t)d[a.toLowerCase()]=t[a]&&t[a].toString();n.fillColor=Object(b.Hb)(d.fillcolor,d.color,h.fillColor),n.fillAlpha=Object(b.Hb)(d.fillalpha,d.alpha,h.fillAlpha),n.fillRatio=Object(b.Hb)(d.fillratio,h.fillRatio),n.fillAngle=Object(b.Hb)(d.fillangle,h.fillAngle),n.borderThickness=Object(b.Jb)(d.borderthickness,h.borderThickness),n.borderColor=Object(b.Hb)(d.bordercolor,h.borderColor),n.borderAlpha=Object(b.Hb)(d.borderalpha,h.borderAlpha),n.labelPadding=d.labelpadding||h.labelPadding,n.options.tooltext=Object(b.Hb)(d.tooltext,h.tooltext),n.link=d.link,r=i._drawMarkerItem.call(g).markerShape,i._buildKdTree(),s.update(e,r)}}},{key:"createContainer",value:function(){var e=this,t=e.getLinkedParent(),o=e.getFromEnv("animationManager"),a=t.getChildContainer("layer1");e.getChildContainer("abovePlotGroup")||e.addChildContainer("abovePlotGroup",o.setAnimation({el:"group",attr:{name:"abovePlotGroup",opacity:1},container:a,component:e,label:"group"})),e.getChildContainer("belowPlotGroup")||e.addChildContainer("belowPlotGroup",o.setAnimation({el:"group",attr:{name:"belowPlotGroup",opacity:1},container:a,component:e,label:"group"}))}},{key:"_removeMarkerItem",value:function(e){var t,o,a=this.components,n=a.markerObjs,r=n[e],i=a.kdArrayMap;r&&(t=r.markerShape,o=r.markerLabel,t&&t.dispose(),o&&o.dispose(),delete i[e],this._buildKdTree()),delete n[e]}},{key:"getElement",value:function(e){if(this.components.kDTree)return this.components.kDTree.getNeighbour(e)}}],[{key:"getMarkerRadiusLimits",value:function(e,t,o,a){var n=oe(e,t);return a=parseFloat(a),o=parseFloat(o),isNaN(a)||isNaN(o)?isNaN(a)?isNaN(o)?{min:.02*n,max:.07*n}:{min:parseInt(o/10,10),max:o}:{min:a,max:10*a}:a<o?{min:a,max:o}:{min:o,max:a}}},{key:"_initializeMarkerItem",value:function(e,t,o){var a,n={},r=n.config;return r||(r=n.config={}),r.id=e,r.definition=t,r.application=o,r.hasValue=null,r.value=null,r.options=null,r.label=null,r.markerShape=null,r.markerLabel=null,r.drawOptions={shape:null,label:null},r.drawComplete=!1,a=n.config.options=Object(b.W)({},r.definition),r.dataEnabled?!isNaN(a.value)&&""!==a.value&&(n.value=parseFloat(a.value),n.hasValue=!0):r.applyAll?r.options=Object(b.W)(a,r.application):o&&(r.options=Object(b.W)(a,r.application)),n}}]),t}(T);Object(m.a)({name:"mapsAnimation",type:"animationRule",extension:y});var ce=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(n.a)(t,[{key:"getType",value:function(){return"group"}},{key:"getName",value:function(){return"mapGroup"}},{key:"configure",value:function(){this._mapChildren(function(e){e.configure&&e.configure()})}},{key:"createContainer",value:function(){var e,t=this,o=t.getLinkedParent(),a=t.getFromEnv("animationManager"),n=o.getChildContainer();e=n.plotGroup,t.getChildContainer("plotShadow")||t.addChildContainer("plotShadow",a.setAnimation({el:"group",attr:{name:"manager-plot-shadow",opacity:1},container:e,component:t,label:"group"})),t.getChildContainer("plot")||t.addChildContainer("plot",a.setAnimation({el:"group",attr:{name:"manager-plot",opacity:1},container:e,component:t,label:"group"})),t.getChildContainer("layer0")||t.addChildContainer("layer0",a.setAnimation({el:"group",attr:{name:"ann-layer0",opacity:1},container:n.abovePlotGroup,component:t,label:"group"})),t.getChildContainer("layer1")||t.addChildContainer("layer1",a.setAnimation({el:"group",attr:{name:"ann-layer1",opacity:1},container:n.abovePlotGroup,component:t,label:"group"})),o.config.labelsOnTop?t.getChildContainer("layer0").toFront():t.getChildContainer("layer0").toBack()}},{key:"_transformGroup",value:function(){var e=this,t=this.getFromEnv("chart"),o=t.getFromEnv("chartInstance"),a=e.getFromEnv("animationManager"),n=t.jsonData,r=e.getChildContainer("plot"),i=e.getChildContainer("plotShadow"),l=t.config.scalingParams;r.hide(),i.hide(),t.config.entitiesReady=!1,o.addEventListener("internal.mapdrawingcomplete",function(t){t.detachHandler(),b.sb&&(o.args.link&&o.args.clickedEntityBox&&n.chart.linkedcharttransition,r&&a.setAnimation({el:r,attr:{transform:l.transformStr},component:e,label:"group"}),i&&a.setAnimation({el:i,attr:{transform:l.transformStr},component:e,label:"group"})),r.show(),i.show()}),t.checkComplete()}},{key:"draw",value:function(){this.createContainer(),this._transformGroup()}},{key:"getDataLimits",value:function(e){var t,o=this,a=1/0,n=-1/0,r=0,i=function(e){n=Math.max(n,e.max),a=Math.min(a,e.min)};return o._mapChildren(function(o){return o.getState("removed")||!1===o.getState("visible")?void(e&&(t=o.getDataLimits(e),i(t))):(r++,t=o.getDataLimits(e),void i(t))}),r?o.setState("visible",!0):o.setState("visible",!1),this.config.range||(this.config.range={},this.config.range.min=this.config.dataMin,this.config.range.max=this.config.dataMax),{max:n,min:a}}}]),t}(d.a),he=function(e){var t,o=e.getFromEnv("dataSource"),a=o.data||{},n=o.markers;Object(b.O)(e,ce,"mapGroup"),t=e.getChildren("mapGroup")[0],Object(b.T)(t,T,"entities",1,[a]),n?Object(b.T)(t,se,"markers",1,[n]):e.getDatasets()[1]&&e.getDatasets()[1].remove()},de=o(57),ge=o(7),ue=function(e,t,o){var a=e[0],n=e[1],r=e[2],i=a+(t[0]-a)*o,l=n+(t[1]-n)*o,s=r+(t[2]-r)*o;return{hex:(b.e+(i<<16|l<<8|s).toString(16)).slice(-6),rgb:[i,l,s]}},fe=function(e){function t(){var e;Object(i.a)(this,t),e=Object(l.a)(this,Object(s.a)(t).call(this));var o=Object(ge.a)(Object(ge.a)(e));return o.mapByCategory=!1,o.colorArr=[],o.noValidRange=!0,o.sortLegend=!1,e}return Object(c.a)(t,e),Object(n.a)(t,[{key:"__setDefaultConfig",value:function(){Object(r.a)(Object(s.a)(t.prototype),"__setDefaultConfig",this).call(this),this.config.defaultObj={code:"CCCCCC",alpha:"100"}}},{key:"getType",value:function(){return"colorComponent"}},{key:"getName",value:function(){return"colorBucket"}},{key:"configure",value:function(e){if(e){var t,o,a,n,r,i,l,s,c,h,d,g=this,u=g.mapByCategory,f=e.numberFormatter,p=e.colorRange||{},m=Object(b.W)([],p.color),v=this.getLinkedParent(),y=g.getFromEnv("dataSource"),k=Math.min(Math.max(Object(b.Jb)(y.chart.palette,0)-1,0),4),O=v.defaultPaletteOptions&&v.defaultPaletteOptions.paletteColors[k],C=Object(b.Jb)(f.getCleanValue(p.maxvalue),1/0),x=Object(b.Jb)(f.getCleanValue(p.minvalue),-1/0),j=g.colorArr;if(void 0!==e.mapByCategory&&(u=g.mapByCategory=!!+e.mapByCategory),(m=u?m.filter(function(e){return e.code||e.color}):m.filter(function(e){return e.minvalue||e.maxvalue})).forEach(function(e){e.minvalue&&e.maxvalue&&+e.maxvalue<+e.minvalue&&(s=e.maxvalue,e.maxvalue=e.minvalue,e.minvalue=s),e.minvalue?e.maxvalue?(h=f.getCleanValue(e.minvalue),c=f.getCleanValue(e.maxvalue),e.rangeLabel=f.dataLabels(h)+"-"+f.dataLabels(c)):(h=f.getCleanValue(e.minvalue),e.maxvalue=c=C,e.rangeLabel=c===1/0?">"+f.dataLabels(h):f.dataLabels(h)+"-"+f.dataLabels(c)):(e.minvalue=h=x,c=f.getCleanValue(e.maxvalue),e.rangeLabel=h===-1/0?"<"+f.dataLabels(c):f.dataLabels(h)+"-"+f.dataLabels(c))}),m.sort(function(e,t){return+e.minvalue==+t.minvalue?e.maxvalue-t.maxvalue:e.minvalue-t.minvalue}),m&&(t=m.length)){for(j.length=0,o=0;o<t;o+=1)l=m[o],a=Object(b.Hb)(l.color,l.code,O&&O[o]),n=Object(b.Hb)(l.alpha),i=Object(b.Hb)(l.bordercolor),r=Object(b.Hb)(l.borderalpha,100),c=Object(b.Jb)(l.maxvalue),h=Object(b.Jb)(l.minvalue),d=Object(b.Hb)(l.label,l.displayvalue,l.rangeLabel),(a&&c>=h||u&&d)&&j.push({code:a,alpha:n||"100",oriAlpha:n,maxvalue:c,minvalue:h,label:Object(b.Gb)(d),labelId:d.toLowerCase(),bordercolor:i,borderAlpha:r,name:l.name});g.sortedColorArr=g.colorArr.slice(0)}else g.noValidRange=!0,g.colorArr=[],g.sortedColorArr=[]}}},{key:"getColorObj",value:function(e){if(void 0===e)return{outOfRange:!0};var t,o,a=this,n=a.sortedColorArr,r=a.gradient?1:0,i=n[r];if(a.mapByCategory){for(e=Object(b.Gb)(e).toLowerCase()||e.toString().toLowerCase();i;){if(i.labelId===e||i.maxvalue>=e&&i.minvalue<=e)return{code:i.code,alpha:i.alpha||"100",oriAlpha:i.oriAlpha,seriesIndex:r,legendItemId:i.legendItemId};i=n[r+=1]}return{outOfRange:!0}}if(a.gradient){if(a.scaleMin<=e&&a.scaleMax>=e){for(;i&&i.maxvalue<e;)i=n[r+=1];return o=(e-i.minvalue)/i.range,{code:ue(n[r-1].codeRGB,i.codeRGB,o).hex}}return{outOfRange:!0}}for(;i;){if(e<i.minvalue&&!t)return 0==r?{code:i.code,alpha:i.alpha||"100",oriAlpha:i.oriAlpha,seriesIndex:r,name:i.name,label:i.label,outOfRange:!0,bordercolor:i.bordercolor,borderalpha:i.borderAlpha}:{code:n[r-1].code,alpha:n[r-1].alpha||"100",oriAlpha:n[r-1].oriAlpha,seriesIndex:r,name:n[r-1].name,label:n[r-1].label,outOfRange:!0,bordercolor:n[r-1].bordercolor,borderalpha:n[r-1].borderAlpha};if(e>i.maxvalue&&r==n.length-1)return{code:i.code,alpha:i.alpha||"100",oriAlpha:i.oriAlpha,seriesIndex:r,name:i.name,label:i.label,outOfRange:!0,bordercolor:i.bordercolor,borderalpha:i.borderAlpha};if(i.maxvalue>e&&i.minvalue<=e)return{code:i.code,alpha:i.alpha||"100",oriAlpha:i.oriAlpha,seriesIndex:r,name:i.name,label:i.label,bordercolor:i.bordercolor,borderalpha:i.borderAlpha};if(e===i.maxvalue&&(t={code:i.code,alpha:i.alpha||"100",oriAlpha:i.oriAlpha,seriesIndex:r,name:i.name,label:i.label,bordercolor:i.bordercolor,borderalpha:i.borderAlpha}),r==n.length-1&&t)return t;i=n[r+=1]}return n.length?void 0:{outOfRange:!0}}},{key:"getColorRangeArr",value:function(e,t){var o,a,n,r,i,l,s,c,h=this.colorArr,d=[];if(!this.defaultAsigned&&(e>t&&(o=e,e=t,t=o),e<t&&(r=this.getColorObj(e),l=this.getColorObj(t),r&&l))){for(i=e,a=r.seriesIndex,n=l.seriesIndex;a<=n;a+=1)(s=Object(b.W)({},h[a])).minvalue!==i&&(s.minvalue=i),d.push(s),c=s,i=s.maxvalue;c&&(c.maxvalue=t)}return d}}]),t}(d.a),be=function(e,t,o){var a,n,r=Math.round,i=e.value,l=e.code,s=Object(b.m)(l),c=t.value,h=t.code,d=Object(b.m)(h);return a=c-i,n=[r(s[0]+(d[0]-s[0])/a*(o-i)),r(s[1]+(d[1]-s[1])/a*(o-i)),r(s[2]+(d[2]-s[2])/a*(o-i))],Object(b.A)(n)},pe=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(l.a)(this,Object(s.a)(t).call(this))).colorRange={},e.valueRatio={},e.data={},e.mapByPercent=void 0,e}return Object(c.a)(t,e),Object(n.a)(t,[{key:"getType",value:function(){return"colorComponent"}},{key:"getName",value:function(){return"gradientColorRange"}},{key:"configure",value:function(e){if(e){var t,o,a,n=this;for(n.data=e,n.appender="",a=n.colorRange=e.colorRange.sort(function(e,t){return e.value-t.value}),n.valueRatio=void 0,n.values=[],t=0,o=a.length;t<o;t++)n.values.push(a[t].value)}}},{key:"getValueRatio",value:function(){var e,t,o=this.colorRange,a=o.length,n=this.valueRatio,r=o[a-1].value,i=o[0].value,l=0;if(n)return n;for(n=this.valueRatio=[],e=0;e<a;e++)t=(o[e].value-i)/(r-i),n.push(100*(t-l)),l=t;return n}},{key:"getCumulativeValueRatio",value:function(){var e,t,o=this.colorRange,a=o.length,n=o[0].value,r=o[a-1].value,i=[];for(t=0;t<a;t++)e=o[t],i.push((e.value-n)/(r-n)*100);return i}},{key:"getBoxFill",value:function(e){var t,o,a,n,r=this.colorRange,i=r.length,l=[];for(n=e?90:0,o=0;o<i;o++)t=r[o],l.push(t.code);return a={FCcolor:{alpha:"100,100,100",angle:n,color:l.join(","),ratio:this.getValueRatio().join(",")}},Object(b.Ub)(a)}},{key:"getColorByValue",value:function(e){var t,o,a,n,r=this.values,i=this.colorRange;if(void 0!==e&&null!==e){for(o=0,t=r.length;o<t;o++){if(e===r[o]){n=i[o].code;break}if(!o&&e<r[o]){a=!0;break}if(o===t-1&&e>r[o]){a=!0;break}if(e>r[o]&&e<r[o+1]){n=be(i[o],i[o+1],e);break}}return a?void 0:n}}}]),t}(d.a);function me(e){return Object(b.qb)(e||ye)||ye}var ve="rgba(192,192,192,"+(b.yb?.002:1e-6)+")",ye="#000000",ke=function(){var e,t={legendCarpetConf:{spreadFactor:.85,allowDrag:!1,captionAlignment:"center",padding:{v:3,h:3},style:{fill:"#e4d9c1",stroke:"#c4b89d"}},legendCaptionConf:{spreadFactor:.2,padding:{v:2,h:2},style:{fill:"#786B50",fontFamily:"sans-serif",fontSize:"12px",fontWeight:"bold",fontStyle:"normal"},bound:{style:{stroke:"none"}}},legendBodyConf:{spreadFactor:.8,padding:{v:2,h:2},bound:{style:{stroke:"none"}}}};return t.legendAxisConf={legendAxisHeight:11,spreadFactor:.4,padding:{v:1,h:1},style:{stroke:"none","stroke-opacity":0,"stroke-width":1},line:{grooveLength:3,offset:8,style:{stroke:"rgba(255, 255, 255, 0.65)","stroke-width":1.5}},shadow:{style:{stroke:"none",fill:Object(b.Ub)({FCcolor:{alpha:"25,0,0",angle:360,color:"000000,FFFFFF,FFFFFF",ratio:"0,30,40"}})}},bound:{style:{stroke:"none"}}},t.sliderGroupConf={showTooltip:1,outerCircle:{rFactor:1.4,style:{fill:ve,stroke:"#757575","stroke-width":3}},innerCircle:{rFactor:.65,style:{fill:ve,stroke:"#FFFFFF"}}},t.axisTextItemConf={spreadFactor:.3,padding:{v:1,h:1},style:{fill:"#786B50",fontFamily:"sans-serif",fontSize:"12px",fontWeight:"normal",fontStyle:"normal"}},{init:function(t){e=t.chart},legacyDataParser:function(t,o){var a,n,r,i,l,s,c,h,d,g,u,f,p=Math.max,m=Math.min,v={},y=e.getFromEnv("number-formatter"),k=e.getFromEnv("dataSource"),O=k.dataset,C=k.data;if(o=o||{},!t)return!1;for("maps"!==e.defaultDatasetType||void 0!==o.min&&void 0!==o.max?"HeatMap"===e.getName()&&(void 0===o.min||void 0===o.max)&&(o={min:1/0,max:-1/0},O.forEach(function(e){e.data&&e.data.forEach(function(e){o.min=m(o.min,Object(b.Jb)(e.value,o.min)),o.max=p(o.max,Object(b.Jb)(e.value,o.max))})})):(o={min:1/0,max:-1/0},C&&C.forEach(function(e){o.min=m(o.min,Object(b.Jb)(e.value,o.min)),o.max=p(o.max,Object(b.Jb)(e.value,o.min))})),v.mapByPercent=u=!!Object(b.Jb)(t.mapbypercent,0),a=t.color||[],void 0===t.minvalue&&(t.minvalue=void 0===o.min?0:u?0:o.min),void 0===t.maxvalue&&(t.maxvalue=void 0===o.max?100:u?100:o.max),(t.maxvalue===t.minvalue||o.min===1/0||o.max===-1/0)&&(t.minvalue=0,t.maxvalue=100),f=!1,l=0,c=a.length;l<c;l++)if(a[l].maxvalue){f=!0;break}for(f||(a=[]),r=t.code,h=v.colorRange=[],v.gradient=!!Object(b.Jb)(t.gradient,1),a.length?r=me(r):(r?(i=me(r),r=me()):i=function(e){return Object(b.jb)(e,1)}(r=me()),a.push({code:i,maxvalue:t.maxvalue,label:void 0})),function(t){var o,a,n,r=e.getFromEnv("number-formatter");for(o=0,a=t.length;o<a;o++)(n=t[o].maxvalue)&&(t[o].maxvalue=r.getCleanValue(n))}(a),a=a.sort(function(e,t){return e.maxvalue-t.maxvalue}),d=g=t.minvalue&&y.getCleanValue(t.minvalue),g=(void 0!==d||null!==d)&&(u?d+"%":y.legendValue(d)),h.push({code:Object(b.U)(r),value:d,displayValue:g,label:t.startlabel}),l=0,c=a.length;l<c;l++)s=me((n=a[l]).code||n.color),d=g=n.maxvalue,!isNaN(parseInt(d,10))&&(g=(void 0!==d||null!==d)&&(u?d+"%":y.legendValue(d)),h.push({code:Object(b.U)(s),value:d,displayValue:g,label:n.label||n.displayvalue}));return h[h.length-1].label=t.endlabel||n.label,v},getDefaultConf:function(e){return t[e]}}}(),Oe=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(l.a)(this,Object(s.a)(t).call(this))).datasource={},e.config.legendItemIds=[],e}return Object(c.a)(t,e),Object(n.a)(t,[{key:"configure",value:function(){var e,t,o,a=this,n=this.getFromEnv("chart"),r="maps"===n.defaultDatasetType,i="TreeMap"===n.getName(),l=this.getFromEnv("dataSource").chart.mapbycategory,s=n.getFromEnv("number-formatter"),c=n.config.showLegend,h=n.getChildren("colorRange")&&n.getChildren("colorRange")[0];n.addToEnv("colorManager",a),a.datasource=n.getFromEnv("dataSource"),e=a.datasource.colorrange,h&&h.remove({instant:!0}),c||(a.config.legendItemIds=[]),"gradient"===(t=r?e.gradient&&+e.gradient?"gradient":e.color?"icon":"none":i?"gradient":e.gradient&&"0"!=e.gradient&&!+l?"gradient":"icon")?(ke.init({chart:n}),o=ke.legacyDataParser(e),Object(b.O)(n,pe,"colorRange",1,[o]),h=n.getChildren("colorRange")[0],n.addToEnv("colorRange",h),o||(h._dontPlot=!0),a.config.legendItemIds=[],a._configureGradientLegend(h)):"icon"===t?(Object(b.O)(n,fe,"colorRange",1,[{colorRange:e,sortLegend:0,mapByCategory:Object(b.Jb)(l,0),defaultColor:"cccccc",numberFormatter:s}]),n.addToEnv("colorRange",n.getChildren("colorRange")[0]),c&&a._addLegendItems()):"none"===t&&(n.deleteFromEnv("colorManager"),a.config.legendItemIds=[])}},{key:"_configureGradientLegend",value:function(e){var t=this,o=t.getFromEnv("chart").getFromEnv("gLegend");o&&(o.setColorRange(e),t.addExtEventListener("rangeUpdated",function(e,o){t.fireEvent("legendUpdate",{"original-event":e,maxMinArray:o,component:"gradientlegend"})},o))}},{key:"_addLegendItems",value:function(){var e,t,o,a,n,r=this,i=r.config,l=r.getFromEnv("chart"),s=l.getChildren("legend")[0],c=l.getFromEnv("colorRange").colorArr,h=c.length;for(a=0;a<h;a++)n={label:Object(b.Hb)(c[a].label,c[a].displayvalue),datasetObj:c[a],index:a},t=Object(b.jb)(c[a].code,40),e={FCcolor:{color:c[a].code+","+c[a].code+","+t,ratio:"0,70,30",angle:270,alpha:"100,100,100"}},(o=s.getItem(i.legendItemIds[a]))||(i.legendItemIds.push(s.createItem(r)),(o=s.getItem(i.legendItemIds[a])).addEventListener("fc-click",o.itemClickFn)),o.removeLegendState("hidden"),c[a].legendItemId=o&&o.getId(),o.configure(n),o.setStateCosmetics("default",{symbol:{fill:Object(b.Ub)(e),rawFillColor:c[a].code}});for(a=h;a<i.legendItemIds.length;a++)s.disposeItem(i.legendItemIds[a]);i.legendItemIds.splice(h)}},{key:"legendInteractivity",value:function(e){var t=this.getFromEnv("colorRange").colorArr[e.config.index];this.fireEvent("legendUpdate",{legendItem:e,colorObj:t,component:"legend"})}},{key:"getColor",value:function(e){var t=this,o=t.datasource.colorrange;return!+t.datasource.chart.mapbycategory&&+o.gradient?{code:t.getColorByValue(e)}:t.getColorObj(e)}},{key:"getValueRatio",value:function(){return this.getFromEnv("colorRange").getValueRatio()}},{key:"getCumulativeValueRatio",value:function(){return this.getFromEnv("colorRange").getCumulativeValueRatio()}},{key:"getBoxFill",value:function(e){return this.getFromEnv("colorRange").getBoxFill(e)}},{key:"getColorByValue",value:function(e){return this.getFromEnv("colorRange").getColorByValue(e)}},{key:"getColorObj",value:function(e){return this.getFromEnv("colorRange").getColorObj(e)}}]),t}(d.a);var Ce,xe,je,we=function(e){!function(e){var t=e.getChildren("colorManager");e.getFromEnv("dataSource").colorrange?t?(e.addToEnv("colorManager",t[0]),t[0].configure()):(t=new Oe,e.attachChild(t,"colorManager"),e.addToEnv("colorManager",t),t.configure()):(t&&(t[0].config.legendItemIds=[]),e.deleteFromEnv("colorManager"))}(e)},Fe={},Ae="rgba(192,192,192,"+(b.yb?.002:1e-6)+")",Le=!1,Se=!0,Ee="#000000",_e={}.hasOwnProperty;function Ie(e,t){return function e(t,o){var a,n;for(n in t)_e.call(t,n)&&(a=t[n],o[n]===Ce?o[n]=a:"object"==typeof a&&null!==a&&e(a,o[n]))}(e,t),t}function Pe(e){return Object(b.qb)(e||Ee)||Ee}function Te(e){var t,o=e.fontSize+"";return o?(t=o.replace(/(\d+)(px)*/,"$1px"),e.fontSize=t,e):e}function He(e){return!(e!==Ce&&"undefined"!=typeof e&&null!==e&&!isNaN(e))}Fe.CAPTION="CAPTION",Fe.LEGEND_BODY="LEGEND_BODY",Fe.AXIS_LABEL="LEGEND_LABEL",Fe.LEGEND_AXIS="LEGEND_AXIS",Fe.RANGE="RANGE",Fe.AXIS_VALUE="AXIS_VALUE",xe=function(){var e,t={legendCarpetConf:{spreadFactor:.85,allowDrag:!1,captionAlignment:"center",padding:{v:3,h:3},style:{fill:"#e4d9c1",stroke:"#c4b89d"}},legendCaptionConf:{spreadFactor:.2,padding:{v:2,h:2},style:{fill:"#786B50",fontFamily:"sans-serif",fontSize:"12px",fontWeight:"bold",fontStyle:"normal"},bound:{style:{stroke:"none"}}},legendBodyConf:{spreadFactor:.8,padding:{v:2,h:2},bound:{style:{stroke:"none"}}}};return t.legendAxisConf={legendAxisHeight:11,spreadFactor:.4,padding:{v:1,h:1},style:{stroke:"none","stroke-opacity":0,"stroke-width":1},line:{grooveLength:3,offset:8,style:{stroke:"rgba(255, 255, 255, 0.65)","stroke-width":1.5}},shadow:{style:{stroke:"none",fill:Object(b.Ub)({FCcolor:{alpha:"25,0,0",angle:360,color:"000000,FFFFFF,FFFFFF",ratio:"0,30,40"}})}},bound:{style:{stroke:"none"}}},t.sliderGroupConf={showTooltip:1,outerCircle:{rFactor:1.4,style:{fill:Ae,stroke:"#757575","stroke-width":3}},innerCircle:{rFactor:.65,style:{fill:Ae,stroke:"#FFFFFF"}}},t.axisTextItemConf={spreadFactor:.3,padding:{v:1,h:1},style:{fill:"#786B50",fontFamily:"sans-serif",fontSize:"12px",fontWeight:"normal",fontStyle:"normal"}},{init:function(t){e=t.chart},legacyDataParser:function(t,o){var a,n,r,i,l,s,c,h,d,g,u,f,p={},m=e.getFromEnv("number-formatter");if(!t)return!1;for(p.mapByPercent=u=!!Object(b.Jb)(t.mapbypercent,0),a=t.color||[],t.minvalue===Ce&&(t.minvalue=o.min===Ce?0:u?0:o.min),t.maxvalue===Ce&&(t.maxvalue=o.max===Ce?100:u?100:o.max),f=!1,l=0,c=a.length;l<c;l++)if(a[l].maxvalue){f=!0;break}for(f||(a=[]),r=t.code,h=p.colorRange=[],p.gradient=!!Object(b.Jb)(t.gradient,1),a.length?r=Pe(r):(r?(i=Pe(r),r=Pe()):i=function(e){return Object(b.jb)(e,1)}(r=Pe()),a.push({code:i,maxvalue:t.maxvalue,label:Ce})),function(t){var o,a,n,r=e.getFromEnv("number-formatter");for(o=0,a=t.length;o<a;o++)(n=t[o].maxvalue)&&(t[o].maxvalue=r.getCleanValue(n))}(a),a=a.sort(function(e,t){return e.maxvalue-t.maxvalue}),d=g=t.minvalue&&m.getCleanValue(t.minvalue),g=(d!==Ce||null!==d)&&(u?d+"%":m.legendValue(d)),h.push({code:Object(b.U)(r),value:d,displayValue:g,label:t.startlabel}),l=0,c=a.length;l<c;l++)s=Pe((n=a[l]).code||n.color),d=g=n.maxvalue,!isNaN(parseInt(d,10))&&(g=(d!==Ce||null!==d)&&(u?d+"%":m.legendValue(d)),h.push({code:Object(b.U)(s),value:d,displayValue:g,label:n.label||n.displayvalue}));return h[h.length-1].label=t.endlabel||n.label,p},getDefaultConf:function(e){return t[e]}}}();var Re=function(e){function t(){var e;return Object(i.a)(this,t),e=Object(l.a)(this,Object(s.a)(t).call(this)),je=Object(ge.a)(Object(ge.a)(e)),e.enabled=!1,e.drawOptions={},e.components={},e}return Object(c.a)(t,e),Object(n.a)(t,[{key:"getType",value:function(){return"gradientLegend"}},{key:"getName",value:function(){return"gLegend"}}]),Object(n.a)(t,[{key:"setColorRange",value:function(e){var t=this.drawOptions.colorRange=e;t&&t._preparationGoneWrong&&(this._dontPlot=!0)}},{key:"configureAttributes",value:function(){var e,t,o,a,n,r,i,l,s,c,h=this,d=h.getFromEnv("chart"),g=h.getFromEnv("dataSource").chart,u=h.conf={},f=g.outcnvbasefont,p=g.outcnvbasefontsize,m=g.outcnvbasefontcolor,v=d.config.dataLabelStyle;xe.init({chart:d}),h.data=h.getFromEnv("dataSource").colorrange,h._dontPlot||(h.drawOptions={smartLabel:h.getFromEnv("smartLabel"),gLegend:h},h._dontPlot=!1,h._recalculateLogicalSpace=!0,u.caption=Object(b.Hb)(g.legendcaption),u.legendPosition=Object(b.Hb)(g.legendposition,"bottom").toLowerCase(),u.showLegend=Object(b.Jb)(g.showlegend,1),u.interactiveLegend=Object(b.Jb)(g.interactivelegend,1),u.showLegendLabels=Object(b.Jb)(g.showlegendlabels,1),e=g.legenditemfontcolor||m,t=g.legenditemfont||f,o=g.legenditemfontsize||p,a=Object(b.Jb)(g.legenditemfontbold,0),n=g.legendcaptionfontcolor||m,r=g.legendcaptionfont||f,i=g.legendcaptionfontsize||p,l=Object(b.Jb)(g.legendcaptionfontbold,1),c=(s=g.legendaxisbordercolor?Object(b.ub)(Object(b.U)(g.legendaxisbordercolor)):Ce)?Object(b.Jb)(g.legendaxisborderalpha,100)/100:Ce,u.axisTextItemConf={style:{fill:e?Object(b.P)(Object(b.Hb)(e)):v.color,fontFamily:t?Object(b.Hb)(t):v.fontFamily,fontSize:o?Object(b.Jb)(o):v.fontSize.match(/\d+/)[0],fontWeight:a?"bold":v.fontWeight}},u.legendCaptionConf={style:{fill:n?Object(b.P)(Object(b.Hb)(n)):v.color,fontFamily:r?Object(b.Hb)(r):v.fontFamily,fontSize:i?Object(b.Jb)(i):v.fontSize.match(/\d+/)[0],fontWeight:l?"bold":v.fontWeight,fontStyle:"normal"}},u.legendAxisConf={legendAxisHeight:11,style:{stroke:s,"stroke-opacity":c},line:{style:{stroke:Object(b.P)(Object(b.Hb)(g.legendscalelinecolor,"FFF8E9"),Object(b.Jb)(g.legendscalelinealpha,100)),"stroke-width":Object(b.Jb)(g.legendscalelinethickness)}}},u.sliderGroupConf={showTooltip:Object(b.Jb)(g.showtooltip,1),outerCircle:{rFactor:Object(b.Jb)(g.sliderdiameterfactor),style:{stroke:Object(b.P)(Object(b.Hb)(g.legendpointerbordercolor,"757575"),Object(b.Jb)(g.legendpointerborderalpha,100))}},innerCircle:{rFactor:Object(b.Jb)(g.sliderholediameterfactor),style:{stroke:Object(b.P)(Object(b.Hb)(g.legendpointercolor,"FFFFFF"),Object(b.Jb)(g.legendpointeralpha,100))}}},u.legendCarpetConf={spreadFactor:Object(b.Jb)(g.legendspreadfactor),allowDrag:!!Object(b.Jb)(g.legendallowdrag,0),captionAlignment:Object(b.Hb)(g.legendcaptionalignment,"center"),style:{fill:Object(b.P)(Object(b.Hb)(g.legendbgcolor,"e4d9c1"),Object(b.Jb)(g.legendbgalpha,100)),stroke:Object(b.P)(Object(b.Hb)(g.legendbordercolor,"c4b89d"),Object(b.Jb)(g.legendborderalpha,100)),"stroke-width":Object(b.Jb)(g.legendborderthickness,1)}})}},{key:"postConfigureInit",value:function(){var e,t,o,a,n,r,i,l,s,c,h,d=this,g=d.conf;d.elem={},g.interactiveLegend?(a=Ie(xe.getDefaultConf("sliderGroupConf"),g.sliderGroupConf),this.sGroup?((o=d.elem.sGroup=this.sGroup).configure(a),d.elem.sGroup.gLegend=d):(this.sGroup=d.elem.sGroup=o=new We(a),o.configure(a),d.elem.sGroup.gLegend=d)):(this.sGroup&&this.sGroup.dispose(),this.sGroup&&delete this.sGroup),(a=Ie(xe.getDefaultConf("legendCarpetConf"),g.legendCarpetConf)).legendPosition=g.legendPosition,h=xe.getDefaultConf("legendBodyConf"),"bottom"===g.legendPosition?(d.drawOptions.refSideKey="canvasWidth",d.drawOptions.refOffsetKey="canvasLeft",n=Ie(xe.getDefaultConf("axisTextItemConf"),g.axisTextItemConf),h.legendPosition="bottom",(c=Ie(xe.getDefaultConf("legendAxisConf"),g.legendAxisConf)).legendPosition="bottom",n.legendPosition="bottom"):(d.drawOptions.refSideKey="canvasHeight",d.drawOptions.refOffsetKey="canvasTop",n=Ie(xe.getDefaultConf("axisTextItemConf"),g.axisTextItemConf),h.legendPosition="right",(c=Ie(xe.getDefaultConf("legendAxisConf"),g.legendAxisConf)).legendPosition="right",n.legendPosition="right"),Object.keys(this.components).length||(this.components.LegendCarpet=new Be,this.components.LegendBody=new Je,this.components.LegendAxis=new Ge,this.components.LegendValues=new ze,g.showLegendLabels&&(this.components.LegendLabels=new Ve)),t=this.components.LegendAxis,l=this.components.LegendValues,e=this.components.LegendCarpet,r=this.components.LegendBody,g.showLegendLabels&&(i=this.components.LegendLabels),this.components.LegendCarpet.configure(a),this.components.LegendValues.configure(n),this.components.LegendAxis.configure(c),this.components.LegendBody.configure(d.drawOptions.colorRange,h,n),g.showLegendLabels&&i.configure(n),g.caption?(s=Ie(xe.getDefaultConf("legendCaptionConf"),g.legendCaptionConf),this.componentCaption&&Object.keys(this.componentCaption).length?this.componentCaption.configure(g.caption,s):(this.componentCaption=new De).configure(g.caption,s),e.addCompositions(this.componentCaption,Fe.CAPTION)):(e.removeCompositions(Fe.CAPTION),this.componentCaption&&this.componentCaption.dispose(),delete this.componentCaption),o&&t.addCompositions(o,Fe.RANGE),i&&r.addCompositions(i,Fe.AXIS_LABEL),r.addCompositions(t,Fe.LEGEND_AXIS),r.addCompositions(l,Fe.AXIS_VALUE),e.addCompositions(r,Fe.LEGEND_BODY),d.elem.gl=new Me(e)}},{key:"getValueRange",value:function(){var e,t,o=this.elem&&this.elem.sGroup,a=o.sliders,n=o.extremes;return e=a.false.currPos,t=n[1]-n[0]+a.true.currPos,[{min:o.getValueFormPixel(e),max:o.getValueFormPixel(t)}]}},{key:"_dispose",value:function(){var e=this;e.elem&&e.elem.gl&&e.elem.gl.dispose(),e.elem={},Object(r.a)(Object(s.a)(t.prototype),"_dispose",this).call(this)}},{key:"getCalculatedLogicalSpace",value:function(){return this._logicalArea}},{key:"setCalculatedLogicalSpace",value:function(e){this._logicalArea=e}},{key:"getLogicalSpace",value:function(e){var t,o,a,n=this,r=n.conf,i={height:0,width:0},l=n.drawOptions,s=n.getFromEnv("chartConfig");return n._recalculateLogicalSpace?n._dontPlot?i:(n._recalculateLogicalSpace=!1,n.postConfigureInit(),r.showLegend?(o=l.refSideKey,a=l.refOffsetKey,n.drawOptions.refSide=s[o],n.drawOptions.refOffset=s[a],n.drawOptions.maxOtherSide=e||n.drawOptions.maxOtherSide,n.elem.gl&&(t=n.elem.gl.getLogicalSpace(n.drawOptions,!0),n.elem.gl&&n.setCalculatedLogicalSpace(t)),n.getCalculatedLogicalSpace()):i):(o=l.refSideKey,a=l.refOffsetKey,n.drawOptions.refSide=s[o],n.drawOptions.refOffset=s[a],n.drawOptions.maxOtherSide=e||n.drawOptions.maxOtherSide,t=n.elem.gl.getLogicalSpace(n.drawOptions,!0),n.setCalculatedLogicalSpace(t),n.getCalculatedLogicalSpace()||i)}},{key:"resetLegend",value:function(){var e;(e=this.elem&&this.elem.sGroup)&&e.reset()}},{key:"allocatePosition",value:function(){var e,t,o,a,n,r,i=this.getFromEnv("chart"),l=i.config,s=this.conf||{},c=s.legendPosition,h=l.canvasLeft,d=l.canvasTop,g=l.canvasWidth,u=l.canvasHeight,f=l.marginBottom,b=l.marginRight;i.config.gLegendEnabled&&(e=this.getCalculatedLogicalSpace(),o=s.width=e.width,a=s.height=e.height,"bottom"===c?(n=h+(0>(t=g-o)?0:t/2),r=l.height-e.height-f-(l.actionBarHeight||0)):(r=d+(0>(t=u-a)?0:t/2),n=l.width-e.width-b),s.xPos=n,s.yPos=r)}},{key:"draw",value:function(){var e=this.getFromEnv("chart"),t=e.getFromEnv("dataSource").colorrange,o=this.conf||{},a=e.hasGradientLegend;!e.config.gLegendEnabled||t&&a&&this.drawLegendComponent(o.xPos,o.yPos,{parentGroup:e.getContainer("parentgroup"),animationManager:e.getFromEnv("animationManager")})}},{key:"drawLegendComponent",value:function(e,t,o){var a,n=this,r=n.conf;return n._dontPlot?void 0:r.showLegend?(n.drawOptions.animationManager=o.animationManager,n.drawOptions.parentGroup=o.parentGroup,n.drawOptions.x=e,n.drawOptions.y=t,n.drawOptions.maxOtherSide=n.drawOptions.maxOtherSide||o.maxOtherSide,a=n.elem.gl.draw(n.drawOptions).getBBox(),r.xPos=a.x,r.yPos=a.y,r.height=a.height,r.width=a.width,void(n.enabled=!0)):void(n.enabled=!1)}}]),t}(d.a),Me=function(){function e(t){Object(i.a)(this,e),this.carpet=t}return Object(n.a)(e,[{key:"draw",value:function(e){return this.carpet.draw(e)}},{key:"getLogicalSpace",value:function(e,t){return this.carpet.getLogicalSpace(e,t)}},{key:"dispose",value:function(){this.carpet&&this.carpet.group&&this.carpet.group.remove()}}]),e}(),Be=function(){function e(t){Object(i.a)(this,e),this.conf=t,this._id="GL_CARPET",this.compositionsByCategory={},this.node=Ce,this.group=Ce,this._lSpace=Ce,this.autoRecalculate=!1,this.groupName="fc-gradient-legend",this.moveInstructions={}}return Object(n.a)(e,[{key:"configure",value:function(e){this.conf=e}},{key:"getName",value:function(){return"LegendCarpet"}},{key:"getType",value:function(){return"legend"}},{key:"addCompositions",value:function(e,t){this.compositionsByCategory[t]=e}},{key:"removeCompositions",value:function(e){delete this.compositionsByCategory[e]}},{key:"getBoundingBox",value:function(e){var t,o,a=this.conf,n=a.spreadFactor,r=e.refSide,i=e.alignment,l=e.refOffset,s=e.x,c=e.y;return"bottom"===this.conf.legendPosition?(t=a.width=r*n,o=e.maxOtherSide,i&&(s===Ce||null===s)&&(s=(l+r)/2-t/2)):(o=a.height=r*n,t=e.maxOtherSide,i&&(c===Ce||null===c)&&(c=(l+r)/2-o/2)),{width:t,height:o,x:s,y:c}}},{key:"getPostCalcDecisionsH",value:function(e,t){var o,a=this.conf.padding,n=0;for(o in this.moveInstructions={},t)n+=t[o].height||0;e.height=n+2*a.v}},{key:"getLogicalSpace",value:function(e,t){var o,a,n,r,i,l=this._lSpace,s=["CAPTION","LEGEND_BODY"],c=this.conf.padding,h=this.compositionsByCategory,d=0,g={},u=0;if(l&&!t)return l.isImpure=!0,l;(He((l=this._lSpace=a=this.getBoundingBox(e)).x)||He(l.y)||He(l.height)||He(l.width))&&(this.autoRecalculate=!0),(n=Ie(a,{})).height-=2*c.v,n.width-=2*c.h,n.x+=c.h,n.y+=c.v;for(var f=0;f<s.length;f++)(o=h[s[f]])&&((i=Ie(n,{})).y+=d,d=n.height*o.conf.spreadFactor,i.height=d+u,r=o.getLogicalSpace(Ie(i,{}),e,t),u=i.height-r.height,g[s[f]]=r,d=r.height);return this.getPostCalcDecisions(a,g),this._lSpace=a,a}},{key:"setupDragging",value:function(){var e=this.group,t=0,o=0,a=0,n=0;e.css({cursor:"move"}),e.drag(function(r,i){t=r,o=i,e.attr({transform:"t"+(a+t)+","+(n+o)})},function(){a+=t,n+=o},b.Sb)}},{key:"draw",value:function(e){var t,o,a,n=this.conf,r=["CAPTION","LEGEND_BODY"],i=this.compositionsByCategory,l=e.animationManager,s=e.parentGroup;this.getLogicalSpace(e,this.autoRecalculate),a=this._lSpace,this.group=t=l.setAnimation({el:this.group||"group",attr:{name:this.groupName},component:je,container:s,label:"carpetGroup"}),this.node=l.setAnimation({el:this.node||"rect",attr:a,css:n.style,component:je,container:t,label:"rect"});for(var c=0;c<r.length;c++)(o=i[r[c]])&&o.draw(n.captionAlignment,a,{animationManager:l,colorRange:e.colorRange,numberFormatter:e.numberFormatter,parentLayer:t,smartLabel:e.smartLabel,moveInstructions:this.moveInstructions[void 0],gLegend:e.gLegend});return n.allowDrag&&this.setupDragging(),this.node}},{key:"getPostCalcDecisions",value:function(e,t){return"bottom"===this.conf.legendPosition?this.getPostCalcDecisionsH(e,t):this.getPostCalcDecisionsV(e,t)}},{key:"getPostCalcDecisionsV",value:function(e,t){var o,a,n,r=this.conf.padding,i=Number.NEGATIVE_INFINITY,l=this.moveInstructions;for(a in this.getPostCalcDecisionsH(e,t),t)i=i<(o=t[a].width)?o:i;for(a in e.width=i+2*r.h,t)(n=i-(o=t[a].width))&&(l[a]="t"+n/2+",0")}}]),e}(),De=function(){function e(t,o){Object(i.a)(this,e),this.rawText=t,this.conf=o,this._id="GL_CAPTION",this.node=Ce,this.bound=Ce,this._lSpace=Ce,this.LegendCaption={},this.LegendCaption.LEFT={x:function(e,t){return t.x+e.width/2+2}},this.LegendCaption.RIGHT={x:function(e,t){return t.x+t.width-e.width/2-2}},this.LegendCaption.CENTER={x:function(){var e=arguments[1];return e.x+e.width/2}}}return Object(n.a)(e,[{key:"configure",value:function(e,t){this.rawText=e,this.conf=t}},{key:"getName",value:function(){return"LegendCaption"}},{key:"getType",value:function(){return"caption"}},{key:"getLogicalSpace",value:function(e,t,o){var a,n,r,i,l=this.conf.padding,s=this._lSpace,c=this.rawText,h=t.gLegend.getFromEnv("chartConfig");return s&&!o?(s.isImpure=!0,s):(s=this._lSpace={bound:{height:0,width:0},node:{logicArea:Ce,smartText:Ce}},a=t.smartLabel,c?((n=Ie(e,{})).height-=2*l.v,n.width-=2*l.h,n.x+=l.h,n.y+=l.v,a.useEllipsesOnOverflow(h.useEllipsesWhenOverflow),Te(i=Ie(this.conf.style,{})),a.setStyle(this._metaStyle=i),r=a.getSmartText(c,n.width,n.height),n.height=r.height,n.width=r.width,e.height=r.height+2*l.v,e.width=r.width+2*l.h,s.node.smartText=r,s.node.logicArea=n,s.bound=e,e):s.bound)}},{key:"draw",value:function(){var e,t,o,a,n,r,i,l,s,c,h,d=this.conf,g=d.bound||{};return 3<=arguments.length?(i=arguments[0],l=arguments[1],s=arguments[2]):2<=arguments.length&&(i=arguments[0],s=arguments[1]),e=s.parentLayer,h=s.animationManager,this.group=t=h.setAnimation({el:this.group||"group",attr:{name:"legend-caption"},css:d.style,component:je,container:e}),this.getLogicalSpace(l,s),c=(n=this._lSpace).node,a=n.bound,this.bound=o=h.setAnimation({el:this.bound||"rect",attr:a,css:g.style,container:t,component:je}),r="string"==typeof i?this.LegendCaption[i.toUpperCase()].x(c.smartText,l||c.logicArea):i,this.node=h.setAnimation({el:this.node||"text",attr:{text:c.smartText.text,x:r,y:c.logicArea.y+c.smartText.height/2,lineHeight:this._metaStyle.lineHeight,fill:d.style.fill},container:t,component:je}),{group:t,bound:o,node:this.node}}},{key:"dispose",value:function(){this.group.remove(),this.bound.remove(),this.node.remove()}}]),e}(),Je=function(){function e(t,o,a){Object(i.a)(this,e),this.colorRange=t,this.conf=o,this.childTextConf=a,this._id="GL_BODY",this.bound=Ce,this.group=Ce,this.compositionsByCategory={},this._lSpace=Ce,this.SC_STACK=[Fe.AXIS_LABEL,Fe.LEGEND_AXIS,Fe.AXIS_VALUE],this.DARW_STACK=[Fe.AXIS_VALUE,Fe.LEGEND_AXIS,Fe.AXIS_LABEL]}return Object(n.a)(e,[{key:"configure",value:function(e,t,o){this.colorRange=e,this.conf=t,this.childTextConf=o,this.compositionsByCategory={}}},{key:"getName",value:function(){return"LegendBody"}},{key:"getType",value:function(){return"legend"}},{key:"addCompositions",value:function(e,t){this.compositionsByCategory[t]=e}},{key:"getSpaceTaken",value:function(e){return"bottom"===this.conf.legendPosition?e.height:e.width}},{key:"getLogicalSpace",value:function(e,t,o){var a,n,r,i,l,s,c,h=this._lSpace,d=this.conf.padding,g=this.compositionsByCategory,u=0;if(h&&!o)return h.isImpure=!0,h;for(h=this._lSpace={bound:{height:0,width:0},node:{logicArea:Ce}},(i=Ie(e,{})).height-=2*d.v,i.width-=2*d.h,i.x+=d.h,i.y+=d.v,l=this.getCompositionPlotAreaFor(i),t.colorRange=this.colorRange,s=0,c=this.SC_STACK.length;s<c;s++)(a=g[this.SC_STACK[s]])&&(n=l(r,a.conf.spreadFactor),r=a.getLogicalSpace(Ie(n,{}),t,o),u+=this.getSpaceTaken(r));return this.updateEffectivePlotArea(e,i,u),h.node.logicArea=i,h.bound=e,e}},{key:"draw",value:function(){var e,t,o,a,n,r,i,l,s,c,h=this.childTextConf,d=this.conf.bound.style||{},g=this.compositionsByCategory;for(3<=arguments.length?(r=arguments[1],l=arguments[2]):2<=arguments.length&&(l=arguments[1]),t=l.parentLayer,e=l.animationManager,this.getLogicalSpace(r,l),i=this._lSpace,this.group=n=e.setAnimation({el:this.group||"group",attr:{name:"legend-body",transform:"t0,0"},css:h.style,container:t,component:je}),this.bound=o=e.setAnimation({el:this.bound||"rect",attr:i.bound,css:d,container:n,component:je}),l.colorRange=this.colorRange,l.parentLayer=n,s=0,c=this.DARW_STACK.length;s<c;s++)(a=g[this.DARW_STACK[s]])&&a.draw(l);return l.moveInstructions&&n.attr({transform:l.moveInstructions}),{bound:o,group:n}}},{key:"getCompositionPlotAreaFor",value:function(e){var t,o="bottom"===this.conf.legendPosition;return t=Ie(e,{}),function(a,n){return a=a||{},o?(t.y+=a.height||0,t.height=e.height*n):(t.x+=a.width||0,t.width=e.width*n),t}}},{key:"updateEffectivePlotArea",value:function(e,t,o){var a=this.conf.padding;"bottom"===this.conf.legendPosition?(t.height=o,e.height=o+2*a.v):(t.width=o,e.width=o+2*a.h)}}]),e}(),Ve=function(){function e(t){Object(i.a)(this,e),this.conf=t,this.node=[],this._id="GL_LABELS"}return Object(n.a)(e,[{key:"configure",value:function(e){this.conf=e}},{key:"getType",value:function(){return"label"}},{key:"getName",value:function(){return"LegendLabel"}},{key:"getEffectivePlotArea",value:function(e){var t=this.conf.padding;return e.height-=2*t.v,e.width-=2*t.h,e.x+=t.h,e.y+=t.v,e}},{key:"getLogicalSpace",value:function(e,t,o){var a,n,r,i,l,s,c,h,d,g,u,f,b,p,m,v,y,k,O,C,x,j,w,F=Math.max,A="bottom"===this.conf.legendPosition,L=this._lSpace,S=this.conf,E=S.padding,_=[],I=t.gLegend.getFromEnv("chartConfig"),P=[];if(L&&!o)return L.isImpure=!0,L;for(a=t.colorRange,n=t.smartLabel,g=a.getCumulativeValueRatio(),r=a.colorRange,b=(L=this._lSpace={bound:{height:0,width:0},node:{logicArea:Ce,smartTexts:[]}}).node.smartTexts,h=Ie(e,{}),m=this.getEffectivePlotArea(h),w=A?m.width:m.height,n.useEllipsesOnOverflow(I.useEllipsesWhenOverflow),j=Ie(S.style,{}),Te(this._metaStyle=j),n.setStyle(j),v=n.getSmartText("W"),i=0,l=r.length;i<l;i++)(d=r[i].label)?P.push({oriIndex:i,label:d}):b[i]=Ce;if(0===(l=P.length))return{height:0,width:0};for(f=u=1<l?(g[P[l-1].oriIndex]-g[P[0].oriIndex])/2*w/100:F(g[P[0].oriIndex],100-g[P[0].oriIndex])/2*w/100,A?((C=n.getSmartText(P[0].label,f,m.height)).x=g[P[0].oriIndex]*m.width/100,s=C.x+C.width):((C=n.getSmartText(P[0].label,f,m.width)).y=g[P[0].oriIndex]*m.height/100,s=C.y+C.width),_.push(C.height),b[P[0].oriIndex]=C,A?((C=n.getSmartText(P[l-1].label,f,m.height)).x=g[P[l-1].oriIndex]*m.width/100,c=C.x-C.width):((C=n.getSmartText(P[l-1].label,f,m.width)).y=g[P[l-1].oriIndex]*m.height/100,c=C.y-C.width),_.push(C.height),b[P[l-1].oriIndex]=C,O=s,i=1;i<l-1;i++)d=P[i].label,x=P[i].oriIndex,C=Ce,y=i+1===l-1?c:g[P[i+1].oriIndex]*w/100,k=g[P[i].oriIndex]*w/100,(u=Math.min(k-O,y-k))>2*v.width&&(A?(C=n.getSmartText(d,u,m.height)).x=g[x]*m.width/100:(C=n.getSmartText(d,u,m.width)).y=g[x]*m.height/100,O=u,_.push(C.height)),b[P[i].oriIndex]=C;return p=F.apply(Math,_),A?(m.height=p,e.height=p+2*E.v):(m.width=p,e.width=p+2*E.v),L.node.logicArea=m,L.bound=e,e}},{key:"draw",value:function(){var e,t,o,a,n,r,i,l,s,c,h,d,g="bottom"===this.conf.legendPosition,u=this.conf,f=u.bound&&u.bound.style||{stroke:"none"},b={};2<=arguments.length&&arguments[1]?(a=arguments[0],i=arguments[1]):1<=arguments.length&&(i=arguments[0]),d=i.animationManager,e=i.parentLayer,this.getLogicalSpace(a,i),s=(r=this._lSpace).node.logicArea,c=r.node.smartTexts,this.group=o=d.setAnimation({el:this.group||"group",attr:{name:"legend-labels"},container:e,component:je}),this.bound=t=d.setAnimation({el:this.bound||"rect",attr:r.bound,css:f,container:o,component:je});for(var p=0;p<this.node.length;p++)this.node[p].remove();for(this.node=[],l=0,h=c.length;l<h;l++)(n=c[l])&&(g?(b.y=s.y+n.height/2,b.x=l===h-1?s.x+n.x-n.width/2:l?s.x+n.x:s.x+n.x+n.width/2):(b.x=s.x+n.height/2,b.y=l===h-1?s.y+n.y-n.width/2:l?s.y+n.y:s.y+n.y+n.width/2),this.node.push(d.setAnimation({el:"text",attr:{text:n.text,x:b.x,y:b.y,lineHeight:this._metaStyle.lineHeight,fill:u.style.fill,transform:g?"R0":"R270,"+b.x+","+b.y},container:o,component:je})));return{group:o,bound:t,node:this.node}}}]),e}(),Ge=function(){function e(t){Object(i.a)(this,e),this.conf=t,this._id="FL_AXIS",this.node=Ce,this.group=Ce,this.shadow=Ce,this.markerLine=Ce,this.compositionsByCategory={}}return Object(n.a)(e,[{key:"configure",value:function(e){this.conf=e}},{key:"getName",value:function(){return"LegendAxis"}},{key:"getType",value:function(){return"axis"}},{key:"addCompositions",value:function(e,t){this.compositionsByCategory[t]=e}},{key:"getLogicalSpace",value:function(){var e,t,o,a,n,r,i="bottom"===this.conf.legendPosition,l=arguments[0],s=arguments[2],c=this._lSpace,h=this.conf,d=h.padding,g=h.legendAxisHeight,u=this.compositionsByCategory,f=0;return c&&!s?(c.isImpure=!0,c):(c=this._lSpace={bound:{height:0,width:0},node:{logicArea:Ce}},(n=Ie(l,{})).height-=2*d.v,n.width-=2*d.h,n.x+=d.h,n.y+=d.v,e=g/2+h.line.offset,t=g/2,(a=u[Fe.RANGE])&&(r=a.sliders.false.conf.outerCircle.rFactor*g,t+=f=Math.max(r/2-g/2,0)),i?(n.y+=f,n.height=o=t+e+f,l.height=o+2*d.v):(n.x+=f,n.width=o=t+e+f,l.width=o+2*d.v),c.node.logicArea=n,c.bound=l,l)}},{key:"getDrawableAxisArea",value:function(e){var t=this.conf,o="bottom"===this.conf.legendPosition;return{x:e.x,y:e.y,width:o?e.width:t.legendAxisHeight,height:o?t.legendAxisHeight:e.height,r:t.legendAxisHeight/2}}},{key:"preDrawingRangeParamV",value:function(e){return{x:e.x+e.width/2,calculationBase:e.width,rangeStart:e.y,rangeEnd:e.y+e.height,prop:"x"}}},{key:"preDrawingRangeParamH",value:function(e){return{y:e.y+e.height/2,calculationBase:e.height,rangeStart:e.x,rangeEnd:e.x+e.width,prop:"y"}}},{key:"preDrawingRangeParam",value:function(e){return"bottom"===this.conf.legendPosition?this.preDrawingRangeParamH(e):this.preDrawingRangeParamV(e)}},{key:"getScaleMarkerPathStrH",value:function(e,t){var o,a,n,r,i,l=Ie(e,{}),s=this.conf.line,c="",h="";for(l.x+=l.r,l.width-=2*l.r,i=l.y+l.height,o=0,a=t.length;o<a;o++)n=t[o],c+="M"+(r=l.x+n*l.width/100)+","+(i-s.grooveLength)+"L"+r+","+(i+s.offset);return c+(h+="M"+l.x+","+(i+s.offset)+"L"+(l.x+l.width)+","+(i+s.offset))}},{key:"getColorGradientH",value:function(e){return{axis:e.getBoxFill(),shadow:Object(b.Ub)({FCcolor:{alpha:"25,0,0",angle:90,color:"000000,FFFFFF,FFFFFF",ratio:"0,30,40"}})}}},{key:"draw",value:function(){var e,t,o,a,n,r,i,l,s,c,h,d,g,u,f=this.conf,b=f.bound||{},p=f.line,m=b.style||{},v=this.compositionsByCategory;for(o in 2<=arguments.length?(t=arguments[0],d=arguments[1]):1<=arguments.length&&(d=arguments[0]),g=d.animationManager,e=d.parentLayer,n=(a=d.colorRange).getCumulativeValueRatio(),this.getLogicalSpace(t,d),h=this._lSpace,this.group=i=g.setAnimation({el:this.group||"group",attr:{name:"legend-axis"},container:e,component:je}),this.bound=g.setAnimation({el:this.bound||"rect",attr:h.bound,css:m,component:je,container:i}),c=this.getDrawableAxisArea(h.node.logicArea),s=this.getColorGradient(a),f.style.fill=s.axis,f.shadow.style.fill=s.shadow,this.node=g.setAnimation({el:this.node||"rect",attr:c,css:f.style,container:i,component:je}),this.shadow=g.setAnimation({el:this.shadow||"rect",attr:c,css:f.shadow.style,container:i,component:je}),u=this.getScaleMarkerPathStr(c,n),this.path=g.setAnimation({el:this.path||"path",attr:{path:u},css:p.style,container:i,component:je}),v)r=v[o],o===Fe.RANGE&&(d[(l=this.preDrawingRangeParam(c)).prop]=l[l.prop],d.key=l.prop,d.rCalcBase=l.calculationBase,d.parentLayer=i,r.draw(l.rangeStart,l.rangeEnd,d))}},{key:"getScaleMarkerPathStr",value:function(e,t){return"bottom"===this.conf.legendPosition?this.getScaleMarkerPathStrH(e,t):this.getScaleMarkerPathStrV(e,t)}},{key:"getColorGradient",value:function(e){return"bottom"===this.conf.legendPosition?this.getColorGradientH(e):this.getColorGradientV(e)}},{key:"getScaleMarkerPathStrV",value:function(e,t){var o,a,n,r,i,l=Ie(e,{}),s=this.conf.line,c="",h="";for(l.y+=l.r,l.height-=2*l.r,r=l.x+l.width,o=0,n=t.length;o<n;o++)a=t[o],i=l.y+a*l.height/100,c+="M"+(r-s.grooveLength)+","+i+"L"+(r+s.offset)+","+i;return c+(h+="M"+(r+s.offset)+","+l.y+"L"+(r+s.offset)+","+(l.y+l.height))}},{key:"getColorGradientV",value:function(e){return{axis:e.getBoxFill(!0),shadow:Object(b.Ub)({FCcolor:{alpha:"25,0,0",angle:360,color:"000000,FFFFFF,FFFFFF",ratio:"0,30,40"}})}}}]),e}(),Ne=function(){function e(t,o,a){Object(i.a)(this,e),this.conf=o.conf,this.sliderIndex=t,this.rangeGroup=o.sliderGroup,this._id=a,this.node=Ce,this.tracker=Ce,this.currPos=0,this.swing=[]}return Object(n.a)(e,[{key:"configure",value:function(e,t,o){this.conf=t.conf,this.sliderIndex=e,this.rangeGroup=t.sliderGroup,this._id=o,this.currPos=0,this.swing=[]}},{key:"getType",value:function(){return"slider"}},{key:"getName",value:function(){return"Slider"}},{key:"updateSwingRange",value:function(e,t){this.swing[+e]=t}},{key:"draw",value:function(e,t,o,a){var n,r,i,l,s,c,h,d=Math.ceil,g=a.parentLayer,u=a.animationManager,f=this.conf,b=f.outerCircle,p=f.innerCircle,m=u.getFromEnv("chart").config,v=d(b.rFactor*a.rCalcBase/2),y=d(p.rFactor*a.rCalcBase/2),k="L"-y,O=a.gLegend.getFromEnv("toolTipController"),C=this.sliderIndex;return f.outerRadius=v,f.innerRadius=y,this._scaleVal=t,p.style["stroke-width"]=k,y+=l=d(b.style["stroke-width"]/2),r=this.node=u.setAnimation({el:this.node||"group",attr:{name:"fc-gl-slider",cursor:"pointer",transform:"t0,0"},container:g,component:je}),"x"===a.key?(s=o,c=e,c+=C?-y:+y):(s=e,c=o,s+=C?-y:+y),this.oCircle=u.setAnimation({el:this.oCircle||"circle",attr:{cx:s,cy:c,r:v},css:b.style,container:r,component:je}),this.iCircle=u.setAnimation({el:this.iCircle||"circle",attr:{cx:s,cy:c,r:y},css:p.style,container:r,component:je}),h=this.tracker=u.setAnimation({el:this.tracker||"circle",attr:{cx:s,cy:c,r:v+5,fill:Ae,stroke:Ae,cursor:"pointer"},container:r,component:je}),r.attr({transform:"x"===a.key?"t0,"+this.currPos:"t"+this.currPos+",0"}),n=m.showToolTip?t:"",O.enableToolTip(h,n),this._dragAPI=i=this.getDragAPI("x"===a.key),h.undrag(),h.drag(i.dragging,i.dragStart,i.dragEnd),{translateAscending:v+l}}},{key:"getDragAPI",value:function(e){var t,o,a,n,r=this,i=r.node,l=r.sliderIndex,s=r.rangeGroup,c=r.conf.innerRadius;return{dragging:function(h){var d,g,u,f,b;return h.stopPropagation(),u=e?h.data[1]:h.data[0],l?(d=t[0]-t[1]+c,g=0):(d=0,g=t[1]-t[0]-c),(b=r.currPos+u)<d?u+=d-b:b>g&&(u-=b-g),i.attr({transform:e?"t0,"+(r.currPos+u):"t"+(r.currPos+u)+",0"}),o=u,a&&clearTimeout(a),a=setTimeout(function(){s.updateWhenInRest(r,r.currPos+u)},100),f=s.updateWhenInMove(r,r.currPos+u),r.conf.showTooltip&&r.tracker.data("__FC_tooltipText",f),n=!0,!0},dragStart:function(e){e.stopPropagation(),t=r.swing,n=!1,s.dragStarted(r)},dragEnd:function(){var e;s.dragCompleted(r,n,r.currPos+o),n&&(a&&clearTimeout(a),a=setTimeout(function(){s.updateWhenInRest(r,r.currPos)},100),r.currPos+=o,e=t[+l]+r.currPos,s.updateRange(r,e))}}}},{key:"dispose",value:function(){this.node.remove(),this.oCircle.remove(),this.iCircle.remove(),this.tracker.remove()}}]),e}(),We=function(){function e(t){Object(i.a)(this,e);var o={};this._id="GL_SG1",this.conf=t,o.conf=t,this.extremes=[],this.sliders={},this.min=void 0,this.max=void 0,o.sliderGroup=this,this.valueRange=[],this.callbacks=[],this.sliders[Le]=new Ne(Le,o,this._id+"_0"),this.sliders[Se]=new Ne(Se,o,this._id+"_1")}return Object(n.a)(e,[{key:"configure",value:function(e){var t={};this.min=void 0,this.max=void 0,this.conf=e,t.conf=e,t.sliderGroup=this,this.sliders[Le].configure(Le,t,this._id+"_0"),this.sliders[Se].configure(Se,t,this._id+"_1")}},{key:"getType",value:function(){return"slider"}},{key:"getName",value:function(){return"SliderGroup"}},{key:"initRange",value:function(e,t){var o=e.sliderIndex;this.extremes[+o]=t}},{key:"updateRange",value:function(e,t){var o=e.sliderIndex;this.sliders[!o].updateSwingRange(o,t)}},{key:"reset",value:function(){var e={};e.conf=this.conf,e.sliderGroup=this,this.min=void 0,this.max=void 0,this.sliders[Le].configure(Le,e,this._id+"_0"),this.sliders[Se].configure(Se,e,this._id+"_1"),this.draw.apply(this,this._drawParams)}},{key:"draw",value:function(e,t,o){var a,n,r,i,l,s=Math.ceil,c=this.sliders,h=c[!1],d=c[!0],g=o.colorRange,u=g.colorRange,f=g.data.mapByPercent,b=o.gLegend.getFromEnv("number-formatter");return this._fcChart=o.gLegend.getFromEnv("chart"),this.getValueFormPixel=function(e,t,o,a){this.getValueFormPixel=function(n){return e+(t-e)/(a-o)*n}},this.updateWhenInMove=function(e,t){this.updateWhenInMove=function(o,a){var n,r,i=this.extremes;return n=o.sliderIndex?i[1]-i[0]+a:a,r=this.getValueFormPixel(n),r=t?parseFloat(r).toFixed(2)+"%":e.legendValue(r)}},this._drawParams=[e,t,o],this.updateWhenInMove(b,f),n=h.conf.outerCircle,r=s(h.conf.innerCircle.rFactor*o.rCalcBase/2),r+=s(n.style["stroke-width"]/2),this.extremes[0]=e+r,this.extremes[1]=t-r,i=this.extremes[1]-this.extremes[0],this.min=this.min?this.min:u[0].value,this.max=this.max?this.max:u[u.length-1].value,l=u[u.length-1].value-u[0].value,h.currPos=i*(this.min-u[0].value)/l,d.currPos=i*(this.max-u[0].value)/l-i,h.draw(e,f?b.legendPercentValue(this.min):b.legendValue(this.min),o[o.key],o),a=d.draw(t,f?b.legendPercentValue(this.max):b.legendValue(this.max),o[o.key],o),h.swing=this.extremes.slice(0),d.swing=this.extremes.slice(0),h.swing[1]+=d.currPos,d.swing[0]+=h.currPos,this.getValueFormPixel(u[0].value,u[u.length-1].value,this.extremes[0],this.extremes[1]),a}},{key:"updateWhenInRest",value:function(e,t){var o,a,n=this.sliders,r=this.extremes,i=e.sliderIndex;i?(o=n[!i].currPos,a=r[1]-r[0]+t):(o=t,a=r[1]-r[0]+n[!i].currPos),this.min=+this.getValueFormPixel(o).toFixed(2),this.max=+this.getValueFormPixel(a).toFixed(2),this.gLegend.fireEvent("rangeUpdated",[{min:this.min,max:this.max}])}},{key:"dragStarted",value:function(e){var t=this.sliders,o=this.extremes,a=e.conf,n=this._fcChart;n.fireChartInstanceEvent("legendpointerdragstart",{pointerIndex:+e.sliderIndex,pointers:[{value:this.getValueFormPixel(t.false.currPos)},{value:this.getValueFormPixel(o[1]-o[0]+t.true.currPos)}],legendPointerHeight:a.outerRadius,legendPointerWidth:a.innerRadius,outerRadius:a.outerRadius,innerRadius:a.innerRadius},[n.id])}},{key:"dragCompleted",value:function(e,t,o){var a,n,r=this.sliders,i=this.extremes,l=e.conf,s=this.getValueFormPixel(r.false.currPos),c=this.getValueFormPixel(i[1]-i[0]+r.true.currPos),h=this._fcChart;e.sliderIndex?(a=s,n=this.getValueFormPixel(i[1]-i[0]+o)):(a=this.getValueFormPixel(o),n=c),t&&h.fireChartInstanceEvent("legendrangeupdated",{previousMinValue:s,previousMaxValue:c,minValue:a,maxValue:n},[h.id]),h.fireChartInstanceEvent("legendpointerdragstop",{pointerIndex:+e.sliderIndex,pointers:[{value:a},{value:n}],legendPointerHeight:l.outerRadius,legendPointerWidth:l.innerRadius,outerRadius:l.outerRadius,innerRadius:l.innerRadius},[h.id])}},{key:"dispose",value:function(){this.sliders[Le].dispose(),this.sliders[Se].dispose()}}]),e}(),ze=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(l.a)(this,Object(s.a)(t).call(this,arguments[0])))._id="GL_VALUES",e.node=[],e}return Object(c.a)(t,e),Object(n.a)(t,[{key:"configure",value:function(e){this.conf=e}},{key:"getName",value:function(){return"LegendValues"}},{key:"getType",value:function(){return"legend"}},{key:"getLogicalSpace",value:function(e,t,o){var a,n,r,i,l,s,c,h,d,g,u,f,b,p,m,v,y,k,O,C,x,j,w,F,A,L=Math.min,S=Math.max,E="bottom"===this.conf.legendPosition,_=this._lSpace,I=this.conf,P=I.padding,T=t.gLegend.getFromEnv("chartConfig"),H=[],R=[];if(_&&!o)return _.isImpure=!0,_;for(a=t.colorRange,n=t.smartLabel,r=a.colorRange,c=a.getCumulativeValueRatio(),A=(_=this._lSpace={bound:{height:0,width:0},node:{logicArea:Ce,smartTexts:[]}}).node.smartTexts,(C=Ie(e,{})).height-=2*P.v,C.width-=2*P.h,C.x+=P.h,C.y+=P.v,n.useEllipsesOnOverflow(T.useEllipsesWhenOverflow),F=Ie(I.style,{}),Te(this._metaStyle=F),n.setStyle(F),w=n.getSmartText("W"),s=r.length,E?(u=h=(c[s-1]-c[0])/2*C.width/100,j=r[0].displayValue,(i=n.getSmartText("string"!=typeof j&&j!==Ce&&j.toString()||j,u,C.height)).x=c[0]*C.width/100,f=i.x+i.width,H.push(i.height)):(u=h=(c[s-1]-c[0])/2*C.height/100,(i=n.getSmartText(r[0].displayValue,C.width,u)).y=c[0]*C.height/100,m=i.y+i.width,R.push(i.width)),A[0]=i,E?((i=n.getSmartText(r[s-1].displayValue,u,C.height)).x=c[s-1]*C.width/100,p=i.x-i.width,H.push(i.height),b=f):((i=n.getSmartText(r[s-1].displayValue,C.width,u)).y=c[s-1]*C.height/100,y=i.y-i.height,R.push(i.width),v=m),A[s-1]=i,l=1;l<s-1;l++)i=Ce,x=r[l].displayValue,E?(d=l+1===s-1?p:c[l+1]*C.width/100,(h=L((g=c[l]*C.width/100)-b,d-g))>1.5*w.width&&((i=n.getSmartText(x,2*h,C.height)).x=c[l]*C.width/100,b=h,H.push(i.height))):(d=l+1===s-1?y:c[l+1]*C.height/100,(h=L((g=c[l]*C.height/100)-v,d-g))>2*w.height&&((i=n.getSmartText(x,C.width,2*h)).y=c[l]*C.height/100,v=h,R.push(i.width))),A[l]=i;return E?(k=S.apply(Math,H),C.height=k,e.height=k+2*P.v):(O=S.apply(Math,R),C.width=O,e.width=O+2*P.h),_.node.logicArea=C,_.bound=e,e}},{key:"draw",value:function(){var e,t,o,a,n,r,i,l,s,c,h,d,g,u=this.conf,f="bottom"===u.legendPosition,b=u.bound&&u.bound.style||{stroke:"none"},p={};2<=arguments.length&&arguments[1]?(a=arguments[0],i=arguments[1]):1<=arguments.length&&(i=arguments[0]),g=i.animationManager,e=i.parentLayer,l=i.colorRange.getCumulativeValueRatio(),this.getLogicalSpace(a,i),r=(n=this._lSpace).node.logicArea,h=n.node.smartTexts,this.group=o=g.setAnimation({el:this.group||"group",attr:{name:"legend-values"},container:e,component:je}),this.bound=t=g.setAnimation({el:this.bound||"rect",attr:n.bound,css:b,container:o,component:je});for(var m=0;m<this.node.length;m++)this.node[m].remove();for(this.node=[],s=0,c=l.length;s<c;s++)(d=h[s])&&(f?(p.y=r.y+d.height/2,p.x=s===c-1?r.x+d.x-d.width/2:s?r.x+d.x:r.x+d.x+d.width/2):(p.x=r.x+d.width/2,p.y=s===c-1?r.y+d.y-d.height/2:s?r.y+d.y:r.y+d.y+d.height/2),this.node.push(g.setAnimation({el:"text",attr:{text:d.text,x:p.x,y:p.y,lineHeight:this._metaStyle.lineHeight,fill:u.style.fill},container:o,component:je})));return{group:o,bound:t}}}]),t}(Ve),Xe=Re,Ue=o(63);var Ke=function(e){!function(e){var t,o=e.getFromEnv("dataSource").colorrange,a=e.getFromEnv("dataSource").chart.mapbycategory,n="maps"===e.defaultDatasetType,r="TreeMap"===e.getName(),i=e.getFromEnv("legend"),l=e.getFromEnv("gLegend");"gradient"===(t=o&&e.config.showLegend?n?o.gradient&&+o.gradient?"gradient":o.color?"icon":"none":r?o.gradient&&"0"!=o.gradient?"gradient":"none":o.gradient&&"0"!=o.gradient&&!+a?"gradient":"icon":"none")?(e.deleteFromEnv("legend"),i&&i.remove(),Object(b.O)(e,Xe,"gLegend",1),(l=e.getChildren("gLegend")[0]).configure(),e.addToEnv("gLegend",l)):"icon"===t?(e.deleteFromEnv("gLegend"),l&&l.remove(),Object(b.O)(e,Ue.a,"legend",1,{showLegend:!0}),(i=e.getChildren("legend")[0]).configure(),e.addToEnv("legend",i)):"none"===t&&(e.deleteFromEnv("gLegend"),e.deleteFromEnv("legend"),l&&l.remove(),i&&i.remove())}(e)},Ye=Object(b.W)({foregroundcolor:"333333",foregroundalpha:"100",foregrounddarkcolor:"111111",foregrounddarkalpha:"100",foregroundlightcolor:"666666",foregroundlightalpha:"100",backgroundlightcolor:"FFFFFF",backgroundlightalpha:"100",backgroundlightangle:90,backgroundlightratio:"",backgroundcolor:"FFFFCC",backgroundalpha:"100",backgrounddarkcolor:"ffcc66",backgrounddarkalpha:"100",backgrounddarkangle:270,backgrounddarkratio:"",shadow:1},g),qe="0,100",Ze={basefontcolor:"foregroundcolor",bordercolor:"foregrounddarkcolor",borderalpha:"foregrounddarkalpha",bgcolor:"backgroundlightcolor",bgalpha:"backgroundlightalpha",bgangle:"backgroundlightangle",bgratio:"backgroundlightratio",canvasbordercolor:"foregrounddarkcolor",canvasborderalpha:"foregrounddarkalpha",canvasbgcolor:"backgroundlightcolor",canvasbgalpha:"backgroundlightalpha",canvasbgangle:"backgroundlightangle",canvasbgratio:"backgroundlightratio",tooltipbordercolor:"foregrounddarkcolor",tooltipborderalpha:"foregrounddarkalpha",tooltipbgcolor:"backgroundlightcolor",tooltipbgalpha:"backgroundlightalpha",tooltipfontcolor:"foregroundcolor",legendbordercolor:"foregrounddarkcolor",legendborderalpha:"foregrounddarkalpha",markerbordercolor:"foregroundlightcolor",markerborderalpha:"foregroundlightalpha",markerfillcolor:"backgrounddarkcolor",markerfillalpha:"backgrounddarkalpha",markerfillangle:"backgrounddarkangle",markerfillratio:"backgrounddarkratio",plotfillcolor:"backgroundcolor",plotfillalpha:"backgroundalpha",plotfillangle:"backgroundangle",plotfillratio:"backgroundratio",plothoverfillcolor:"backgrounddarkcolor",plothoverfillalpha:"backgrounddarkalpha",plothoverfillangle:"backgrounddarkangle",plothoverfillratio:"backgrounddarkratio",plotbordercolor:"foregroundcolor",plotborderalpha:"foregroundalpha",shadow:"shadow"},$e={getMapName:function(){return this.jsVars.instanceAPI.getName().toLowerCase()},getEntityList:function(){var e,t,o,a,n,r=this.jsVars.instanceAPI.getDatasets()||[],i=r.length,l=[];for(e=0;e<i;e++)if("entities"===(o=r[e]||[]).getName()){t=o;break}for(e in i=(a=t.components.data).length,a)a.hasOwnProperty(e)&&(n=(a[e]||{}).config||{},l.push({id:n.id,originalId:n.originalId||n.id,label:n.label,shortlabel:n.shortLabel,value:n.value,formattedValue:n.formattedValue,toolText:n.toolText}));return l},getMapAttribute:function(){return Object(f.f)(this,"12061210581","run","JavaScriptRenderer~getMapAttribute()",'Use of deprecated "getMapAttribute()". Replace with "getChartAttribute()".'),this.getChartAttribute.apply(this,arguments)},exportMap:function(){var e=this;return Object(f.f)(this,"12061210581","run","JavaScriptRenderer~exportMap()",'Use of deprecated "exportMap()". Replace with "exportChart()".'),e.exportChart&&e.exportChart.apply(e,arguments)},addMarker:function(e){var t,o,a,n=this.jsVars.instanceAPI.getDatasets()||[],r=n.length;for(t=0;t<r;t++)if("markers"===(o=n[t]||[]).getName()){a=o;break}a&&!a.addMarkerItem(e)&&Object(f.f)(this,"1309264086","run","MapsRenderer~addMarker()","Failed to add marker. Check the options and try again.")},updateMarker:function(e,t){var o,a,n,r=this.jsVars.instanceAPI.getDatasets()||[],i=r.length;for(o=0;o<i;o++)if("markers"===(a=r[o]||[]).getName()){n=a;break}n&&e&&(e=(e+Qe).toLowerCase(),n.updateMarkerItem(e,t))},removeMarker:function(e){var t,o,a,n=this.jsVars.instanceAPI.getDatasets()||[],r=n.length;for(t=0;t<r;t++)if("markers"===(o=n[t]||[]).getName()){a=o;break}e&&(e=(e+Qe).toLowerCase(),a._removeMarkerItem(e))}},Qe="",et=window.Math,tt=et.min,ot=et.max,at=function(e){function t(e,o){var a;for(var n in Object(i.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this))).subpalette="",a.key="",a.index=o,e)a.subpalette=Ye[e[n]],a[n]=a.subpalette instanceof Array?a.subpalette[o]:a.subpalette,a.key=n;return a}return Object(c.a)(t,e),t}(d.a),nt=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(l.a)(this,Object(s.a)(t).call(this))).friendlyName="Map",e.revision=1,e.hasCanvas=!0,e.standaloneInit=!1,e.defaultDatasetType="maps",e.defaultSeriesType="geo",e.fireGroupEvent=!0,e.legendposition="right",e.hasGradientLegend=!0,e.isMap=!0,e.defaultPaletteOptions={paletteColors:[["A6A6A6","CCCCCC","E1E1E1","F0F0F0"],["A7AA95","C4C6B7","DEDFD7","F2F2EE"],["04C2E3","66E7FD","9CEFFE","CEF8FF"],["FA9101","FEB654","FED7A0","FFEDD5"],["FF2B60","FF6C92","FFB9CB","FFE8EE"]],bgColor:["FFFFFF","CFD4BE,F3F5DD","C5DADD,EDFBFE","A86402,FDC16D","FF7CA0,FFD1DD"],bgAngle:[270,270,270,270,270],bgRatio:[qe,qe,qe,qe,qe],bgAlpha:["100","60,50","40,20","20,10","30,30"],toolTipBgColor:["FFFFFF","FFFFFF","FFFFFF","FFFFFF","FFFFFF"],toolTipBorderColor:["545454","545454","415D6F","845001","68001B"],baseFontColor:["555555","60634E","025B6A","A15E01","68001B"],tickColor:["333333","60634E","025B6A","A15E01","68001B"],trendColor:["545454","60634E","415D6F","845001","68001B"],plotFillColor:["545454","60634E","415D6F","845001","68001B"],borderColor:["767575","545454","415D6F","845001","68001B"],borderAlpha:[50,50,50,50,50]},e.colorPaletteMap=Ze,e.eiMethods=$e,e.registerFactory("legend",Ke,["canvas"]),e.registerFactory("axis",function(){},["canvas"]),e.registerFactory("colormanager-decider",we,["legend"]),e.registerFactory("dataset",he,["colormanager-decider"]),e.registerFactory("canvas",de.a),e}return Object(c.a)(t,e),Object(n.a)(t,[{key:"_checkInvalidSpecificData",value:function(){return this.config.invalid=!1,!1}},{key:"__setDefaultConfig",value:function(){Object(r.a)(Object(s.a)(t.prototype),"__setDefaultConfig",this).call(this);var e=this.config;e.baseWidth||(e.baseWidth=400),e.baseHeight||(e.baseHeight=300),e.baseScaleFactor||(e.baseScaleFactor=1)}},{key:"getName",value:function(){return this.config.name||"GEO"}},{key:"getType",value:function(){return"chartAPI"}},{key:"configureAttributes",value:function(e){var o,a=this,n=a.getChildren("colorPalette")&&a.getChildren("colorPalette")[0];o=e.chart=e.chart||e.graph||e.map||{},a.jsonData=e,n||(n=new at(this.colorPaletteMap,(0<o.palette&&6>o.palette?o.palette:Object(b.Jb)(a.paletteIndex,1))-1),a.attachChild(n,"colorPalette")),a.config.skipCanvasDrawing=!0,Object(r.a)(Object(s.a)(t.prototype),"configureAttributes",this).call(this,e),a._parseBackgroundCosmetics()}},{key:"parseChartAttr",value:function(e){var o,a,n,i,l,c=this,h=c.jsonData,d=h.chart||h.map,g=h.markers,u=new at(this.colorPaletteMap,(0<d.palette&&6>d.palette?d.palette:Object(b.Jb)(c.paletteIndex,1))-1),f=Object(b.Hb)(d.entitybordercolor,d.bordercolor,u.plotbordercolor),p=Object(b.Hb)(d.entityfillcolor,d.fillcolor,u.plotfillcolor),m=Object(b.Hb)(d.entityfillalpha,d.fillalpha,u.plotfillalpha),v=Object(b.Hb)(d.entityfillratio,d.fillratio,u.plotfillratio),y=Object(b.Hb)(d.entityfillangle,d.fillangle,u.plotfillangle),k=Object(b.Hb)(d.nullentityfillcolor,d.nullentitycolor,p),O=Object(b.Jb)(d.usevaluesformarkers,h.markers&&h.markers.items&&h.markers.items.length,!(h.markers&&h.markers.application&&h.markers.application.length&&h.markers.definition&&h.markers.definition.length));Object(r.a)(Object(s.a)(t.prototype),"parseChartAttr",this).call(this,e),(o=c.config).origMarginTop=Object(b.Jb)(d.charttopmargin,d.maptopmargin,11),o.origMarginLeft=Object(b.Jb)(d.chartleftmargin,d.mapleftmargin,11),o.origMarginBottom=Object(b.Jb)(d.chartbottommargin,d.mapbottommargin,11),o.origMarginRight=Object(b.Jb)(d.chartrightmargin,d.maprightmargin,11),o.labelsOnTop=Object(b.Jb)(d.entitylabelsontop,1),a=(l=o.style).inCancolor,n=l.inCanfontFamily,i=l.inCanfontSize,o.entityOpts={baseScaleFactor:o.baseScaleFactor,dataLabels:{style:{fontFamily:n,fontSize:i,lineHeight:l.inCanLineHeight,color:l.inCancolor}},fillColor:p,fillAlpha:m,fillRatio:v,fillAngle:y,borderColor:f,borderAlpha:Object(b.Hb)(d.entityborderalpha,d.borderalpha,c.borderAlpha,"100"),borderThickness:Object(b.Jb)(d.showentityborder,d.showborder,1)?Object(b.Jb)(d.entityborderthickness,d.borderthickness,1):0,scaleBorder:Object(b.Jb)(d.scaleentityborder,d.scaleborder,0),hoverFillColor:Object(b.Hb)(d.entityfillhovercolor,d.hoverfillcolor,d.hovercolor,u.plothoverfillcolor),hoverFillAlpha:Object(b.Hb)(d.entityfillhoveralpha,d.hoverfillalpha,d.hoveralpha,u.plothoverfillalpha),hoverFillRatio:Object(b.Hb)(d.entityfillhoverratio,d.hoverfillratio,d.hoverratio,u.plothoverfillratio),hoverFillAngle:Object(b.Hb)(d.entityfillhoverangle,d.hoverfillangle,d.hoverangle,u.plothoverfillangle),hoverBorderThickness:Object(b.Hb)(d.entityborderhoverthickness,d.hoverborderthickness),hoverBorderColor:Object(b.Hb)(d.entityborderhovercolor,f,u.plotbordercolor),hoverBorderAlpha:Object(b.Hb)(d.entityborderhoveralpha,u.plotborderalpha),nullEntityColor:k,nullEntityAlpha:Object(b.Hb)(d.nullentityfillalpha,d.nullentityalpha,m),nullEntityRatio:Object(b.Hb)(d.nullentityfillratio,d.nullentityratio,v),nullEntityAngle:Object(b.Hb)(d.nullentityfillangle,d.nullentityangle,y),connectorColor:Object(b.Hb)(d.labelconnectorcolor,d.connectorcolor,a),connectorAlpha:Object(b.Hb)(d.labelconnectoralpha,d.connectoralpha,"100"),connectorThickness:Object(b.Jb)(d.labelconnectorthickness,d.borderthickness,1),showHoverEffect:Object(b.Jb)(d.showentityhovereffect,d.usehovercolor,d.showhovereffect,1),hoverOnNull:Object(b.Jb)(d.hoveronnull,d.entityhoveronnull,1),labelPadding:Object(b.Jb)(d.labelpadding,5),showLabels:Object(b.Jb)(d.showlabels,1),labelsOnTop:Object(b.Jb)(d.entitylabelsontop,1),includeNameInLabels:Object(b.Jb)(d.includenameinlabels,1),includeValueInLabels:Object(b.Jb)(d.includevalueinlabels,0),useSNameInTooltip:Object(b.Jb)(d.usesnameintooltip,0),useShortName:Object(b.Jb)(d.usesnameinlabels,1),labelSepChar:Object(b.Hb)(d.labelsepchar,", "),showTooltip:Object(b.Jb)(d.showentitytooltip,d.showtooltip,1),tooltipSepChar:Object(b.Hb)(d.tooltipsepchar,", "),tooltext:d.entitytooltext,hideNullEntities:Object(b.Jb)(d.hidenullentities,0),showHiddenEntityBorder:Object(b.Jb)(d.showhiddenentityborder,1),showNullEntityBorder:Object(b.Jb)(d.shownullentityborder,1),hiddenEntityColor:Object(b.Hb)(d.hiddenentitycolor,d.hiddenentityfillcolor,d.hiddenentityalpha||d.hiddenentityfillalpha?k:"ffffff"),hiddenEntityAlpha:Object(b.Hb)(d.hiddenentityalpha,d.hiddenentityfillalpha,.001),shadow:Object(b.Jb)(d.showshadow,c.defaultPlotShadow,u.shadow)},o.markerOpts={dataLabels:{style:{fontFamily:Object(b.Hb)(d.markerfont,n),fontSize:Object(b.Jb)(d.markerfontsize,parseInt(i,10)),fontColor:Object(b.Hb)(d.markerfontcolor,a)}},showTooltip:Object(b.Jb)(d.showmarkertooltip,d.showtooltip,1),showLabels:Object(b.Jb)(d.showmarkerlabels,d.showlabels,1),showHoverEffect:Object(b.Jb)(d.showmarkerhovereffect,1),labelPadding:Object(b.Hb)(d.markerlabelpadding,"5"),labelWrapWidth:Object(b.Jb)(d.markerlabelwrapwidth,0),labelWrapHeight:Object(b.Jb)(d.markerlabelwrapheight,0),fillColor:Object(b.Hb)(d.markerfillcolor,d.markerbgcolor,u.markerfillcolor),fillAlpha:Object(b.Hb)(d.markerfillalpha,u.markerfillalpha),fillAngle:Object(b.Hb)(d.markerfillangle,u.markerfillangle),fillRatio:Object(b.Hb)(d.markerfillratio,u.markerfillratio),fillPattern:Object(b.Hb)(d.markerfillpattern,u.markerbgpattern),hoverFillColor:d.markerfillhovercolor,hoverFillAlpha:d.markerfillhoveralpha,hoverFillRatio:d.markerfillhoverratio,hoverFillAngle:d.markerfillhoverangle,borderThickness:Object(b.Hb)(d.markerborderthickness,1),borderColor:Object(b.Hb)(d.markerbordercolor,u.markerbordercolor),borderAlpha:Object(b.Jb)(d.markerborderalpha,u.markerborderalpha),hoverBorderThickness:d.markerborderhoverthickness,hoverBorderColor:d.markerborderhovercolor,hoverBorderAlpha:d.markerborderhoveralpha,radius:Object(b.Jb)(d.markerradius&&Object(b.Wb)(d.markerradius),7),shapeId:Object(b.Hb)(d.defaultmarkershape,"circle"),labelSepChar:Object(b.Hb)(d.labelsepchar,", "),tooltipSepChar:Object(b.Hb)(d.tooltipsepchar,", "),autoScale:Object(b.Jb)(d.autoscalemarkers,0),tooltext:Object(b.Hb)(g&&g.tooltext,d.markertooltext),dataEnabled:O,valueToRadius:Object(b.Jb)(d.markerradiusfromvalue,1),valueMarkerAlpha:Object(b.Hb)(d.valuemarkeralpha,"75"),hideNull:Object(b.Jb)(d.hidenullmarkers,0),nullRadius:Object(b.Jb)(d.nullmarkerradius,d.markerradius,7),adjustViewPort:Object(b.Jb)(d.adjustviewportformarkers,0),startAngle:Object(b.Jb)(d.markerstartangle,90),maxRadius:Object(b.Jb)(d.maxmarkerradius,0),minRadius:Object(b.Jb)(d.minmarkerradius,0),applyAll:Object(b.Jb)(d.applyallmarkers,0),shadow:Object(b.Jb)(d.showmarkershadow,d.showshadow,0)},o.connectorOpts={showHoverEffect:Object(b.Jb)(d.showconnectorhovereffect,1),thickness:Object(b.Jb)(d.connectorthickness,d.markerconnthickness,"2"),color:Object(b.Hb)(d.connectorcolor,d.markerconncolor,u.markerbordercolor),alpha:Object(b.Hb)(d.connectoralpha,d.markerconnalpha,"100"),hoverThickness:Object(b.Jb)(d.connectorhoverthickness,d.connectorthickness,d.markerconnthickness,"2"),hoverColor:Object(b.Hb)(d.connectorhovercolor,d.connectorcolor,d.markerconncolor,u.markerbordercolor),hoverAlpha:Object(b.Hb)(d.connectorhoveralpha,d.connectoralpha,d.markerconnalpha,"100"),dashed:Object(b.Jb)(d.connectordashed,d.markerconndashed,0),dashLen:Object(b.Jb)(d.connectordashlen,d.markerconndashlen,3),dashGap:Object(b.Jb)(d.connectordashgap,d.markerconndashgap,2),font:Object(b.Hb)(d.connectorfont,d.markerconnfont,n),fontColor:Object(b.Hb)(d.connectorfontcolor,d.markerconnfontcolor,a),fontSize:Object(b.Jb)(d.connectorfontsize,d.markerconnfontsize,parseInt(i,10)),showLabels:Object(b.Jb)(d.showconnectorlabels,d.showmarkerlabels,d.showlabels,1),labelBgColor:Object(b.Hb)(d.connectorlabelbgcolor,d.markerconnlabelbgcolor,u.plotfillcolor),labelBorderColor:Object(b.Hb)(d.connectorlabelbordercolor,d.markerconnlabelbordercolor,u.markerbordercolor),shadow:Object(b.Jb)(d.showconnectorshadow,d.showmarkershadow,d.showshadow,0),showTooltip:Object(b.Jb)(d.showconnectortooltip,d.showmarkertooltip,d.showtooltip,1),tooltext:Object(b.Hb)(g&&g.connectortooltext,d.connectortooltext),hideOpen:Object(b.Jb)(d.hideopenconnectors,1)},o.adjustViewPortForMarkers=Object(b.Jb)(d.adjustviewportformarkers,O)}},{key:"_attachMouseEvents",value:function(){var e=this,o=e.getFromEnv("eventListeners"),a=e.getFromEnv("chart-container");o.push(u.a.listen(a,b.tb?"touchstart":"click",t.searchMouseMove,e)),o.push(u.a.listen(window.document,b.tb?"touchstart":"mousemove",t.searchMouseMove,e))}},{key:"_dispose",value:function(){var e=this.getFromEnv("chart-container");b.tb&&(u.a.unlisten(e,"touchstart",t.searchMouseMove),u.a.unlisten(window.document,"touchstart",t.searchMouseMove)),u.a.unlisten(e,"click",t.searchMouseMove),u.a.unlisten(window.document,"mousemove",t.searchMouseMove),Object(r.a)(Object(s.a)(t.prototype),"_dispose",this).call(this)}},{key:"_searchNearestNeighbour",value:function(e,t){var o,a=this.getDatasets()[1];if(a){if(!a.components.kDTree)return;(o=a.getElement(e))?a.highlightPoint(o,t):a.highlightPoint(!1,t)}}},{key:"_createLayers",value:function(){Object(r.a)(Object(s.a)(t.prototype),"_createLayers",this).call(this),this._attachMouseEvents()}},{key:"_parseBackgroundCosmetics",value:function(){var e,t=this,o=t.getChildren("background")[0].config,a=t.getChildren("colorPalette")[0],n=t.getFromEnv("chart-attrib");e=o.showBorder=Object(b.Jb)(n.showcanvasborder,1),o.borderWidth=e?Object(b.Jb)(n.canvasborderthickness,1):0,o.borderRadius=o.borderRadius=Object(b.Jb)(n.canvasborderradius,0),o.borderDashStyle=o.borderDashStyle=Object(b.Jb)(n.borderdashed,0)?Object(b.db)(Object(b.Jb)(n.borderdashlen,4),Object(b.Jb)(n.borderdashgap,2)):"none",o.borderAlpha=Object(b.Hb)(n.canvasborderalpha,a.borderAlpha),o.borderColor=o.borderColor=Object(b.P)(Object(b.Hb)(n.canvasbordercolor,a&&a.borderColor),o.borderAlpha)}},{key:"_getBackgroundCosmetics",value:function(){var e=this,t=e.getFromEnv("chart-attrib")||e.jsonData.map,o=e.getChildren("colorPalette")[0];return{FCcolor:{color:Object(b.Hb)(t.bgcolor,t.canvasbgcolor,o.bgcolor),alpha:Object(b.Hb)(t.bgalpha,t.canvasbgalpha,o.bgalpha),angle:Object(b.Hb)(t.bgangle,t.canvasbgangle,o.bgangle),ratio:Object(b.Hb)(t.bgratio,t.canvasbgratio,o.bgratio)}}}},{key:"_parseCanvasCosmetics",value:function(){Object(r.a)(Object(s.a)(t.prototype),"_parseCanvasCosmetics",this).call(this);var e=this,o=e.config,a=e.getFromEnv("chart-attrib")||e.jsonData.map,n=e.getChildren("canvas")[0].config;o.origMarginTop=Object(b.Jb)(a.maptopmargin,11),o.origMarginLeft=Object(b.Jb)(a.mapleftmargin,11),o.origMarginBottom=Object(b.Jb)(a.mapbottommargin,11),o.origMarginRight=Object(b.Jb)(a.maprightmargin,11),o.origCanvasLeftMargin=Object(b.Jb)(a.canvasleftmargin,0),o.origCanvasRightMargin=Object(b.Jb)(a.canvasrightmargin,0),o.origCanvasTopMargin=Object(b.Jb)(a.canvastopmargin,0),o.origCanvasBottomMargin=Object(b.Jb)(a.canvasbottommargin,0),n.canvasBorderRadius=Object(b.Jb)(a.canvasborderradius,0),n.origCanvasTopPad=Object(b.Jb)(a.canvastoppadding,0),n.origCanvasBottomPad=Object(b.Jb)(a.canvasbottompadding,0),n.origCanvasLeftPad=Object(b.Jb)(a.canvasleftpadding,0),n.origCanvasRightPad=Object(b.Jb)(a.canvasrightpadding,0)}},{key:"preliminaryScaling",value:function(){for(var e,t,o,a=this.jsonData,n=a.markers&&a.markers.items||[],r=n&&n.length||0,i=1/0,l=1/0,s=-1/0,c=-1/0;r--;)e=+(o=n[r]).x,t=+o.y,i=tt(i,e),l=tt(l,t),s=ot(s,e),c=ot(c,t);return{x:i,y:l,x1:s,y1:c}}},{key:"getScalingParameters",value:function(e,t,o,a){var n,r,i=e/t,l=o/(e*this.config.baseScaleFactor),s=a/(t*this.config.baseScaleFactor),c=0,h=0;return l>s?(c+=(o-a*i)/2,r=200/(t*(n=s))):(h+=(a-o/i)/2,r=200/(e*(n=l))),{scaleFactor:n,strokeWidth:r,translateX:c,translateY:h}}},{key:"calculateMarkerBounds",value:function(e,t,o){var a,n,r,i,l,s,c,h,d,g,u,f,b=this,p=b.config,m=p.markerOpts,v=b.getDatasets(),y=b.getDataLimits(),k=y.dataMin,O=y.dataMax,C=m.hideNull,x=m.nullRadius,j=m.valueToRadius,w=1/0,F=1/0,A=-1/0,L=-1/0;for(s=0,h=v.length;s<h;s++)"markers"===(c=v[s]).getName()&&(a=c);if(a)for(s in a.calculateMarkerRadiusLimits(),r=(n=a.config||{}).minRadius,i=n.maxRadius,l=a.components&&a.components.markerObjs||{})f=(p=l[s].config).definition||{},null!==p.cleanValue?(j&&void 0===f.radius&&(p.radius=r+(i-r)*(p.cleanValue-k)/(O-k)),u=+p.radius,d=(+f.x+t)*e,g=(+f.y+o)*e,w=tt(w,d-u),F=tt(F,g-u),A=ot(A,d+u),L=ot(L,g+u)):C?p.__hideMarker=!0:null===p.radius&&(p.radius=x);return{x:w,y:F,x1:A,y1:L}}},{key:"_spaceManager",value:function(){var e,t,o,a,n,r,i,l,s,c=this,h=c.config,d=c.getChildren("legend")&&c.getChildren("legend")[0],g=d&&d.config.legendPos,u=c.getFromEnv("chart-attrib"),f=h.showBorder,p=h.origMarginLeft,m=h.origMarginTop,v=c.config.baseWidth,y=c.config.baseHeight,k={},O=0,C=0,x=h.markerOpts,j=h.borderWidth=f?Object(b.Jb)(u.borderthickness,1):0;c._allocateSpace({top:j,bottom:j,left:j,right:j}),c._allocateSpace(c._manageActionBarSpace&&c._manageActionBarSpace(.225*h.availableHeight)||{}),l="right"===g?.3*h.canvasWidth:.3*h.canvasHeight,h.showLegend&&c._manageLegendSpace(l),e="bottom"===g?.225*h.canvasHeight:.225*h.canvasWidth,s=c._manageChartMenuBar(e),o=h.canvasWidth,a=h.canvasHeight,x.dataEnabled?(h.adjustViewPortForMarkers?((k=c.preliminaryScaling()).x1>v&&(v=k.x1),0>k.x&&(v+=-k.x,O=-k.x),k.y1>y&&(y=k.y1),0>k.y&&(y+=-k.y,C=-k.y),t=c.getScalingParameters(v,y,o,a),r=a,i=o,0>(k=c.calculateMarkerBounds(t.scaleFactor*c.config.baseScaleFactor,O,C)).x&&(p+=-k.x,o+=k.x),0>k.y&&(m+=-k.y,a+=k.y),k.x1>i&&(o-=k.x1-i),k.y1>r&&(a-=k.y1-r)):(t=c.getScalingParameters(v,y,o,a),c.calculateMarkerBounds(t.scaleFactor*c.config.baseScaleFactor,O,C)),p+=O*(t=c.getScalingParameters(v,y,o,a)).scaleFactor*c.config.baseScaleFactor,m+=C*t.scaleFactor*c.config.baseScaleFactor):t=c.getScalingParameters(v,y,o,a),c.config.scalingParams=t,n=t.scaleFactor,t.translateX+=p,t.translateY=t.translateY+m+s.top||0,t.sFactor=n*c.config.baseScaleFactor*100/100,t.transformStr=["t",t.translateX,",",t.translateY,"s",n,",",n,",0,0"].join(""),c.config.annotationConfig={id:"Geo",showbelow:0,autoscale:0,grpxshift:t.translateX?t.translateX:0,grpyshift:t.translateY?t.translateY:0,xscale:100*(n?n*c.config.baseScaleFactor:1),yscale:100*(n?n*c.config.baseScaleFactor:1),scaletext:1,options:{useTracker:!0}}}},{key:"getDataLimits",value:function(){var e,t,o=this.getDatasets(),a=o.length,n=1/0,r=-1/0;for(t=0;t<a;t++)e=o[t].getDataLimits(),n=tt(n,e.min),r=ot(r,e.max);return{dataMin:n,dataMax:r}}},{key:"getEntityPaths",value:function(e){var t,o={},a=this.config.entities;if(e){for(t in a)o[t]=a[t];return o}return a}},{key:"checkComplete",value:function(){var e=this;e.config.entityFlag&&e.config.entitiesReady&&(e.config.entityFlag=!1,e.config.markersDrawn=!0,e.fireChartInstanceEvent("internal.mapdrawingcomplete",{renderer:e}))}}],[{key:"getName",value:function(){return"maps"}},{key:"getType",value:function(){return"chartAPI"}},{key:"searchMouseMove",value:function(e){var t,o=e.data,a=o.config,n=o.getDatasets()[1],r=n&&n.getFromEnv("toolTipController"),i=n&&n.config.currentToolTip,l=o.config.lastHoveredPoint,s={};o.getFromEnv("chart-container")&&o.config.lastInteractionEvent!==e.originalEvent&&(o.config.lastInteractionEvent=e.originalEvent,(t=function(e,t){var o=Object(b.lb)(t.getFromEnv("chart-container"),e),a=o.chartX,n=o.chartY,r=t.config,i=r.canvasLeft,l=r.canvasTop,s=r.canvasLeft+r.canvasWidth,c=r.canvasHeight+r.canvasTop;return o.insideCanvas=!1,o.originalEvent=e,a>i&&a<s&&n>l&&n<c&&(o.insideCanvas=!0),o}(e,o))&&t.insideCanvas?(a.lastMouseEvent=e,s={x:t.chartX,y:t.chartY},o._searchNearestNeighbour(s,e)):(l&&n&&n.hoverOutFn.call(l.element),o.config.lastHoveredPoint=null,r&&r.hide(i)))}}]),t}(h.a);o.d(t,"Maps",function(){return nt});t.default={name:"maps",type:"package",requiresFusionCharts:!0,extension:function(e){return e.addDep(nt)}}}}]);
//# sourceMappingURL=2.907df55d.chunk.js.map